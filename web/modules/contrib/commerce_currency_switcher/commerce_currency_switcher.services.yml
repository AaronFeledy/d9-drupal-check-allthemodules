services:
  commerce_multicurrency.price_resolver:
    class: Drupal\commerce_currency_switcher\Resolver\MulticurrencyPriceResolver
    arguments: ['@request_stack','@config.factory','@module_handler','@event_dispatcher']
    tags:
     - { name: commerce_price.price_resolver, priority: 600 }

  commerce_multicurrency.currency_manager:
    class: Drupal\commerce_currency_switcher\CurrencyManager
    arguments: ['@config.factory','@entity_type.manager']

  cache_context.multicurrency:
    class: Drupal\commerce_currency_switcher\Cache\Context\CurrencyCacheContext
    arguments: ['@current_user', '@request_stack']
    tags:
     - { name: cache.context }
