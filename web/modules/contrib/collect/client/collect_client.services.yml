services:
  logger.channel.collect_client:
    parent: logger.channel_base
    arguments: ['collect_client']
  plugin.manager.collect_client.item_handler:
    class: Drupal\Core\Plugin\DefaultPluginManager
    arguments:
      - Plugin/collect_client
      - '@container.namespaces'
      - '@module_handler'
      - 'Drupal\collect_client\Plugin\collect_client\ItemHandlerInterface'
      - 'Drupal\collect_client\Annotation\CollectClientItemHandler'
    calls:
      - [setCacheBackend, ['@cache.discovery', 'collect_client_item_handler_plugins']]
  serializer.normalizer.collect_item:
    class: Drupal\collect_client\Normalizer\CollectItemNormalizer
    tags:
      - { name: normalizer }
  collect_client.capture_entity:
    class: Drupal\collect_client\CaptureEntity
    arguments: ['@request_stack', '@serializer']
