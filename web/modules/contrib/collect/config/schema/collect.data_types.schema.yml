# A simplified representation of a data definition.
collect.data_definition:
  type: mapping
  label: Data definition
  mapping:
    type:
      type: string
      label: Data type
    label:
      type: label
      label: Label
    description:
      type: text
      label: Description

# List data definition also declares the type of each contained item.
collect.list_data_definition:
  type: collect.data_definition
  mapping:
    item_definition:
      type: collect.data_definition.[type]
      label: Item data definition
      description: The data definition to apply to every element of the list.

# Map data definition is recursive; it contains a list of data definitions.
collect.complex_data_definition:
  type: collect.data_definition
  mapping:
    properties:
      type: sequence
      label: Child property definitions
      sequence:
        type: collect.data_definition.[type]
        label: Child property definition

collect.field_item_data_definition:
  type: collect.data_definition
  mapping:
    field_type:
      type: string
      label: Field item data type
    field_name:
      type: string
    entity_type:
      type: string
    bundle:
      type: string
    required:
      type: boolean
    translatable:
      type: boolean
    settings:
      type: field.field_settings.[%parent.field_type]
    storage:
      type: mapping
      label: Field storage definition
      mapping:
        cardinality:
          type: integer
        custom_storage:
          type: boolean
        constraints:
          type: sequence
          sequence:
            type: any
        field_name:
          type: string
        provider:
          type: string
        queryable:
          type: boolean
        revisionable:
          type: boolean
        settings:
          type: field.storage_settings.[%parent.type]
        entity_type:
          type: string
        translatable:
          type: boolean
        type:
          type: string

# @todo Remove after https://www.drupal.org/node/2462155
field.storage_settings.uuid:
  type: field.storage_settings.string
field.storage_settings.password:
  type: field.storage_settings.string
field.storage_settings.uri:
  type: field.storage_settings.string

# Processor settings
collect.processor:
  type: mapping
  mapping:
    plugin_id:
      type: string
      label: Processor Plugin ID
    weight:
      type: integer
      label: Weight
      description: Processors are applied in ascending order of weight.
