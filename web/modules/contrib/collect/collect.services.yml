services:
  collect.postprocessor:
    class: Drupal\collect\Processor\Postprocessor
    arguments: ['@plugin.manager.collect.model', '@collect.typed_data_provider']
  collect.typed_data_provider:
    class: Drupal\collect\TypedData\TypedDataProvider
    arguments: ['@plugin.manager.collect.model', '@typed_data_manager', '@entity.manager']
  plugin.manager.collect.model:
    class: Drupal\collect\Model\ModelManager
    parent: default_plugin_manager
    arguments: ['@logger.factory', '@entity.manager', '@plugin.manager.collect.processor']
  plugin.manager.collect.processor:
    class: Drupal\collect\Processor\ProcessorManager
    parent: default_plugin_manager
  plugin.manager.collect.relation:
    class: Drupal\collect\Relation\RelationPluginManager
    parent: default_plugin_manager
  serializer.normalizer.collect.container:
    class: Drupal\collect\Normalizer\ContainerNormalizer
    arguments: ['@rest.link_manager']
    tags:
      - { name: normalizer, priority: 10 }
  collect.capture_entity:
    class: Drupal\collect\CaptureEntity
    arguments: ['@request_stack', '@serializer', '@entity.manager', '@plugin.manager.collect.model']
  collect.fetch_web_resource:
    class: Drupal\collect\FetchWebResource
    arguments: ['@http_client', '@entity.manager', '@plugin.manager.collect.model']
