<?php


/**
 * Log error.
 *
 * @param string $context
 *   Context (class and function name).
 * @param string $message
 *   Message to log.
 * @param int $level
 *   Error level.
 */
function couchbasedrupal_log_warning($level, $message, $context) {
  \Drupal::logger('couchbasedrupal')->log($level, $message, $context);
}

/**
 * Implements hook_cache_flush()
 */
function couchbasedrupal_cache_flush() {
  /** @var \Drupal\couchbasedrupal\Cache\CacheFactory */
  $cache_factory = \Drupal::service('cache_factory');
  if ($cache_factory instanceof \Drupal\couchbasedrupal\Cache\CacheFactory) {
    $cache_factory->clearUnusedDbBinaries();
  }
}
