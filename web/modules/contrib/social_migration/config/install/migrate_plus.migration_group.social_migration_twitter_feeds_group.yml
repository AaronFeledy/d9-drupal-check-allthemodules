uuid: 4c8620c0-2df4-49d9-b52f-cb4304fd781f
langcode: en
status: true
dependencies: {  }
id: social_migration_twitter_feeds_group
label: 'Social Migration: Twitter Feeds'
description: 'Group containing all the standard configuration to support a Twitter feed.'
source_type: Twitter
module: null
shared_configuration:
  langcode: en
  source:
    plugin: url
    data_fetcher_plugin: http
    headers: {  }
    authentication:
      plugin: oauth2
      base_uri: 'https://api.twitter.com'
      token_url: /oauth2/token
      grant_type: client_credentials
    data_parser_plugin: json
    fields:
      -
        name: created_at
        selector: created_at
      -
        name: favorite_count
        selector: favorite_count
      -
        name: id
        selector: id_str
      -
        name: retweet_count
        selector: retweet_count
      -
        name: text
        selector: text
      -
        name: full_text
        selector: full_text
      -
        name: media
        selector: entities/media
      -
        name: extended_media
        selector: extended_entities/media
      -
        name: tweeted_link
        selector: entities/urls
      -
        name: retweeted_link
        selector: retweeted_status/entities/urls
    ids:
      id:
        type: string
  process:
    temp_text:
      plugin: coalesce
      source:
        - full_text
        - text
    title:
      plugin: substr
      source: '@temp_text'
      length: 254
    status:
      plugin: default_value
      default_value: 1
    type:
      plugin: default_value
      default_value: social_migration_twitter_item
    field_social_migration_t_created:
      plugin: format_date
      from_format: 'D M d H:i:s O Y'
      to_format: U
      source: created_at
    field_social_migration_t_favorit: favorite_count
    field_social_migration_t_id: id
    field_social_migration_t_rt_coun: retweet_count
    field_social_migration_t_text:
      plugin: substr
      source: '@temp_text'
      length: 139
    field_social_migration_t_text_ex: '@temp_text'
    field_social_migration_t_parent:
      plugin: default_value
    temp_media:
      plugin: coalesce
      source:
        - extended_media
        - media
    field_social_migration_t_m:
      plugin: iterator
      source: '@temp_media'
      process:
        uri: media_url
        title:
          plugin: default_value
          default_value: 'linked media for [node:field_social_migration_t_id:value]'
    field_social_migration_t_m_s:
      plugin: iterator
      source: '@temp_media'
      process:
        uri: media_url_https
        title:
          plugin: default_value
          default_value: 'https linked media for [node:field_social_migration_t_id:value]'
    field_social_migration_t_permali/title:
      plugin: default_value
      default_value: 'permalink for [node:field_social_migration_t_id:value]'
    temp_retweeted_link:
      plugin: coalesce
      source:
        - tweeted_link
        - retweeted_link
    field_social_migration_t_tw_link:
      plugin: iterator
      source: '@temp_retweeted_link'
      process:
        uri: url
        title:
          plugin: default_value
          default_value: '(re)tweeted link for [node:field_social_migration_t_id:value]'
    field_social_migration_t_tw_card:
      plugin: iterator
      source: '@temp_retweeted_link'
      process:
        uri:
          plugin: og_tag
          source: url
          tag_name: image
          take_first: 1
        title:
          plugin: default_value
          default_value: 'Twitter Card Image for [node:field_social_migration_t_id:value]'
