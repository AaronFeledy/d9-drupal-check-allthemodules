<?php

/**
 * @file
 * Contains style_node_title preprocess functions.
 */

/**
 * Implements hook_preprocess_field().
 *
 * Removes title field from node display.
 */
function style_node_title_preprocess_field(&$variables) {

  if ($variables['field_name'] == 'title') {
    if ($node = \Drupal::request()->attributes->get('node')) {

      if (isset($node->field_style_title->value) &&
        $node->field_style_title->value == 1) {
        $variables['attributes']['class'][] = 'style-title';
      }
    }
  }
}
