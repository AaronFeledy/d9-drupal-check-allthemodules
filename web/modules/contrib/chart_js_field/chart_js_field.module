<?php

/**
 * @file
 * The module file.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * The field theme. Implements hook_theme().
 */
function chart_js_field_theme($existing, $type, $theme, $path) {
  return [
    'chart_js' => [
      'variables' => [
        'width' => NULL,
        'height' => NULL,
        'uid' => NULL,
        'type' => NULL,
        'data' => NULL,
        'options' => NULL,
        'external' => NULL,
      ],
    ],
  ];
}

/**
 * Implements hook_help().
 */
function chart_js_field_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    // Main module help for the chart.js field module.
    case 'help.page.chart_js_field':
      $output = '';
      $output .= '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('The Chart.js Field module creates a field type option for creating charts. The module uses the Chart.js javascript library. The library needs to be downloaded into the library directory or used via CDN when indicated in the module settings form. While not all options for the chart library are available, there are options for the more neccessary options. Extra options can potentially be set in the twig template by modifying data and options objects. A full list of the Chart.js options are listed in the <a href=":docs">documentation</a>. Please, <a href=":issues">leave an issue</a> for any bugs or feature requests.', [':docs' => 'https://www.chartjs.org/docs/latest/', ':issues' => 'https://www.drupal.org/project/issues/chart_js_field']) . '</p>';
      return $output;
    break;
  }
}
