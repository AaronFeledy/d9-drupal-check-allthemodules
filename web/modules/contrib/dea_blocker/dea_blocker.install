<?php

/**
 * Join blacklist_re config to blacklist.
 */
function dea_blocker_update_8101(&$sandbox) {
  $settings = \Drupal::configFactory()->getEditable('dea_blocker.settings');
  $blacklist = array_filter(array_unique(array_merge(
    $settings->get('blacklist') ?: [],
    $settings->get('blacklist_re') ?: []
  )));
  sort($blacklist);
  $settings->set('blacklist', $blacklist)->save(TRUE);
}
