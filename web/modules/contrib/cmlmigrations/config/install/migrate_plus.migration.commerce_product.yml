# Import Products.
id: cml_product
label: Commerce Product
migration_group: cml
migration_tags:
  - commerce
dependencies:
  enforced:
    module:
      - cmlmigrations
migration_dependencies:
  required:
    - cml_taxonomy_catalog
    - cml_product_variation
source:
  plugin: cml_commerce_product
destination:
  plugin: entity:commerce_product
process:
  type: type
  stores: stores
  title: title
  status: status
  uuid: uuid
  body: body
  field_catalog:
    -
      plugin: skip_on_empty
      method: process
      source: catalog
    -
      plugin: migration_lookup
      migration: cml_taxonomy_catalog
      source: catalog
  variations:
    -
      plugin: skip_on_empty
      method: process
      source: variations
    -
      plugin: multi_target
      source: variations
      target: target_id
  field_image: field_image
