<?php

/**
 * @file
 * Provides Issuu documents embedding functionality.
 */

/**
 * Implements hook_theme().
 */
function issuu_viewer_theme() {
  $theme = [];

  $theme['issuu_viewer_iframe'] = [
    'variables' => [
      'document_id' => NULL,
      'background_color' => NULL,
      'height' => NULL,
    ],
    'template' => 'issuu_viewer_iframe',
  ];

  return $theme;
}

/**
 * Implements hook_field_widget_info_alter().
 */
function issuu_viewer_field_widget_info_alter(&$info) {
  if (isset($info['string_textfield'])) {
    $info['string_textfield']['field_types'][] = 'issuu_viewer_document_id';
  }
}
