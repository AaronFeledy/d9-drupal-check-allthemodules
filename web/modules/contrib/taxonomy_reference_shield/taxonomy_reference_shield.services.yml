services:
  taxonomy_reference_shield.relationship_handler:
    class: Drupal\taxonomy_reference_shield\ReferenceHandler
    arguments: ['@entity_field.manager', '@entity_type.bundle.info', '@cache.data', '@entity_type.manager', '@entity_type.repository']

  taxonomy_reference_shield.access_check.shield_delete_access:
    class: Drupal\taxonomy_reference_shield\Access\ShieldDeleteAccess
    arguments: ['@config.factory', '@taxonomy_reference_shield.relationship_handler']
    tags:
      - { name: access_check, applies_to: _shield_delete_access }
