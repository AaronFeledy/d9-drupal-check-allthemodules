<?php

/**
 * Implements hook_form_alter().
 */
function elbow_room_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
  // If the form_id is like "node_*_form" then assume it's a node add/edit form
  // We can also check the URL
  if (preg_match('/node\_[a-z_]+\_form/', $form_id)) {
    $config = Drupal::configFactory()->get('elbow_room.settings');
    // Add a link to hide the sidebar
    // Add a class to the sidebar to make sure we hide the right thing
    $form['#attached']['library'][] = 'elbow_room/base';
    $form['#attached']['drupalSettings']['elbow_room']['default'] = $config->get('default');
  }
}
