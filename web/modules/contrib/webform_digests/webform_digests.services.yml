services:

  # Services.

  webform_digests.queue_builder:
    class: Drupal\webform_digests\WebformDigestsQueueBuilder
    arguments: ['@entity_type.manager', '@queue', '@config.factory']

  webform_digests.mail_handler:
    class: Drupal\webform_digests\WebformDigestsMailHandler
    arguments: ['@plugin.manager.mail', '@token', '@language_manager']

  # Route context.

  webform_digests.webform_route_context:
    class: Drupal\webform_digests\ContextProvider\WebformDigestRouteContext
    arguments: ['@current_route_match']
    tags:
      - { name: 'context_provider' }
