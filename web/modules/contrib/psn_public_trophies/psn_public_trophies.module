<?php

use Drupal\psn_public_trophies\Component\DrupalPSNPublicTrophies;

/**
 * @file
 * Module file for psn_public_trophies.
 */

/**
 * Implements hook_theme().
 */
function psn_public_trophies_theme($existing, $type, $theme, $path) {
  $items = [];

  $items['psn_public_trophies_profile'] = [
    'variables' => ['profile' => NULL, 'trophies' => NULL, 'rendered' => NULL],
    'template' => 'psn-public-trophies--profile',
  ];

  $items['psn_public_trophies_trophies'] = [
    'variables' => ['trophies' => NULL, 'rendered' => NULL],
    'template' => 'psn-public-trophies--trophies',
  ];

  $items['psn_public_trophies_trophies_items'] = [
    'variables' => ['trophies' => NULL, 'rendered' => NULL],
    'template' => 'psn-public-trophies--trophies-items',
  ];

  return $items;
}

/**
 * Implements template_preprocess_psn_public_trophies_profile().
 */
function template_preprocess_psn_public_trophies_profile(&$variables) {

}

/**
 * Implements hook_cron().
 */
function psn_public_trophies_cron() {
	$drupalPSNPublicTrophies = new DrupalPSNPublicTrophies();
	$psn_account_token = $drupalPSNPublicTrophies->token;
	if ($psn_account_token) {
		$drupalPSNPublicTrophies->refreshToken();
	}
}