id: agreement_types
label: Agreement types
migration_tags:
  - Drupal 7
source:
  plugin: agreement_type
process:
  id:
    -
      plugin: machine_name
      source: name
  label: type
  path:
    -
      plugin: callback
      callable:
        - '\Drupal\agreement\AgreementHandler'
        - prefixPath
      source: path
  agreement: agreement
  settings:
    -
      plugin: default_value
      source: settings
      default_value: "a:0:{}"
    -
      plugin: callback
      callable: unserialize
    -
      plugin: agreement_settings
      migrations:
        - d7_user_role

destination:
  plugin: entity:agreement
  config_name: agreement.agreement
migration_dependencies:
  required:
    - d7_user_role