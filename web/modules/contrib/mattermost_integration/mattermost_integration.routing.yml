mattermost_integration.settings:
  path: '/admin/config/services/mattermost-integration'
  defaults:
    _form: '\Drupal\mattermost_integration\Form\MattermostIntegrationConfigurationForm'
    _title: 'Mattermost Integration configuration'
  requirements:
    _permission: 'administer site configuration'

# REST Endpoint
mattermost_integration.endpoint:
  path: '/admin/config/services/mattermost-integration/endpoint'
  defaults:
    _controller: '\Drupal\mattermost_integration\Controller\EndpointController::requestHandler'
  methods: [POST]
  requirements:
    # Make sure the Outgoing Webhook has access to this controller.
    _access: 'TRUE'
    _format: 'json'
  options:
    no_cache: TRUE

# The entity overview list.
mattermost_integration.outgoing_webhooks:
  path: '/admin/config/services/mattermost-integration/outgoing-webhooks'
  defaults:
    _entity_list: 'outgoing_webhook'
    _title: 'Outgoing Webhooks'
  requirements:
    _permission: 'administer site configuration'

# The form for adding an Outgoing Webhook entity.
entity.outgoing_webhook.add_form:
  path: '/admin/config/services/mattermost-integration/outgoing-webhooks/add'
  defaults:
    _entity_form: 'outgoing_webhook.add'
    _title: 'Add an Outgoing Webhook'
  requirements:
    _permission: 'administer site configuration'

# The form for editing an Outgoing Webhook entity.
entity.outgoing_webhook.edit_form:
  path: '/admin/config/services/mattermost-integration/outgoing-webhooks/{outgoing_webhook}/edit'
  defaults:
    _entity_form: 'outgoing_webhook.add'
    _title: 'Edit an Outgoing Webhook'
  requirements:
    _permission: 'administer site configuration'

# The form for deleting an Outgoing Webhook entity.
entity.outgoing_webhook.delete_form:
  path: '/admin/config/services/mattermost-integration/outgoing-webhooks/{outgoing_webhook}/delete'
  defaults:
    _entity_form: 'outgoing_webhook.delete'
    _title: 'Add an Outgoing Webhook'
  requirements:
    _permission: 'administer site configuration'
