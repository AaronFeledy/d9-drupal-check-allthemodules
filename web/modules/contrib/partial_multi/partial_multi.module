<?php

/**
 * @file
 * Partially Multilingual module.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function partial_multi_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    case 'help.page.partial_multi':
      $output = '';
      $output .= '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('The purpose of the Partially Multilingual module is to avoid having multiple, unaliased URLs for the same page, which differ only by the language prefix in the URL, if your site has pages that are not translated into all of the enabled site languages.') . '</p>';
      $output .= '<p>' . t('Without this module, for example, if a site visitor is viewing the site in Spanish, and clicks through to a page that is only available in English, the visitor will most likely see a URL like /es/node/77, while the page content will be in English, and matches the content that would also be available at the URL /about (assuming that is the English page alias). This situation is not good for search engine optimization.') . '</p>';
      $output .= '<p>' . t('With the Partially Multilingual module installed, in this situation, the site visitor will instead be redirected to the /about URL, so that /about will be the only URL that has this content.') . '</p>';
      $output .= '<h3>' . t('Uses') . '</h3>';
      $output .= '<dl>';
      $output .= '<dt>' . t('Redirecting') . '</dt>';
      $output .= '<dd>' . t('By having this module installed, it will monitor incoming URLs. If the URL corresponds to viewing a regular Content page that is not translated into the requested language, the URL will be redirected to the URL for viewing the content in its source language. By default, it will use a permanent/301 code; you can change this on the configuration page. If the URL is for some other type of page, or the requested language exists for this content item, the request is not redirected.') . '</dd>';
      $output .= '</dl>';
      return $output;

    case 'partial_multi.admin_form':
      $output = '';
      $output .= '<h3>' . t('Choosing a redirect code') . '</h3>';
      $output .= '<p>' . t('If you are planning to add new translations for untranslated content sometime in the future, you should choose the temporary redirect code (302). If you are sure that you will not add new translations, a permanent redirect code (301) will be better for SEO.') . '</p>';
      return $output;
  }
}
