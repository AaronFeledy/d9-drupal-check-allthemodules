<?php

/**
 * @file
 * Allows the site to send and receive user contacts to and from Text Marketer.
 */

use Drupal\Core\Routing\RouteMatchInterface;
use Drupal\textmarketer_contacts\SendContacts\SendContacts;

/**
 * Implements hook_help().
 */
function textmarketer_contacts_help($route_name, RouteMatchInterface $route_match) {

  switch ($route_name) {
    case 'help.page.textmarketer_contacts':
      $output = '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t("Text Marketer Contacts module allows the site to
      send and receive user contacts to and from Text Marketer.") . '</p>';
      return $output;
  }
}

/**
 * Implements hook_ENTITY_TYPE_presave().
 */
function textmarketer_contacts_user_presave(Drupal\Core\Entity\EntityInterface $entity) {
  $request = new SendContacts();
  $request->postClient($entity);
}
