# Migration configuration for edu content.
id: demo_uni_edu
label: Educational institution nodes
third_party_settings:
  migrate_plus:
    migration_group: demo_uni
source:
  plugin: demo_uni_edu
destination:
  plugin: entity:node
process:
  # Hardcode the destination node type (bundle) as 'pe_edu'.
  type:
    plugin: default_value
    default_value: pe_edu
  title: title
  'body/value': body
  'body/format':
    plugin: default_value
    default_value: basic_html
  uid:
    plugin: default_value
    default_value: 1
  path: path
  promote:
    plugin: default_value
    default_value: 0
  sticky:
    plugin: default_value
    default_value: 0
  field_address:
    plugin: address
    required:
      - addressLocality
      - addressCountry
  field_code: field_code
  field_founding_date: field_founding_date
  field_defunct_date: field_defunct_date
  field_main_location: field_main_location
  field_email: field_email
  field_telephone_number: field_telephone_number
  field_fax_number: field_fax_number
  field_duns_number: field_duns_number
  field_institution_type:
    plugin: migration
    migration: demo_uni_term
    source: field_institution_type
  'field_history/value': field_history
  'field_history/format':
    plugin: default_value
    default_value: basic_html
  'field_url/url': field_url__url
  field_image_edu:
    plugin: image
    entity_type: node
    bundle: pe_edu
    source: field_image
  field_legal_name: field_legal_name
  field_duns_number: field_duns_number
  field_vat_id: field_vat_id
  field_tax_id: field_tax_id
migration_dependencies:
  required:
    - demo_uni_term
