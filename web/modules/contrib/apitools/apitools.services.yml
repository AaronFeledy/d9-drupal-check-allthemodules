services:
  plugin.manager.apitools_model:
    class: Drupal\apitools\ModelManager
    parent: default_plugin_manager
    arguments: ['@class_resolver']
    calls:
      - [setContainer, ['@service_container']]
  plugin.manager.apitools_client:
    class: Drupal\apitools\ClientManager
    parent: default_plugin_manager
    arguments:
      - '@http_handler_stack'
      - '@http_client_factory'
      - '@plugin.manager.apitools_model'
      - '@key.repository'
      - '@tempstore.shared'
      - '@entity_type.manager'
    tags:
      - { name: backend_overridable }
  plugin.manager.response_object:
    class: Drupal\apitools\ResponseObjectManager
    parent: default_plugin_manager
    arguments:
      - '@entity_type.manager'
