<?php
/**
* @file
* Provides integration with the fancyselect library.
*/

/**
 * Implements hook_page_attachments().
 */
function fancyselect_page_attachments(array &$page) {
  $config = \Drupal::config('fancyselect.settings');
  $fancyselect_load_default = $config->get('fancyselect_load_default');

  if ($fancyselect_load_default) {
    $page['#attached']['library'][] = 'fancyselect/fancyselectLibrary';
  }

  $fancyselect_dom_selector = $config->get('fancyselect_dom_selector');

  $page['#attached']['library'][] = 'fancyselect/fancyselectSettings';
  $page['#attached']['drupalSettings']['fancyselectSettings']['domSelector'] = $fancyselect_dom_selector;
}
