<?php

/**
 * @Implements hook_form_FORM_ID_alter().
 */
function drowl_header_slides_inline_entity_form_entity_form_alter(&$form, &$form_state) {
  // Inline entity form alter:
  if ($form['#entity_type'] == 'media' && $form['#bundle'] == 'slide') {
    // Make field dependent on field_overlay_position value:
    $form['field_title']['#states'] = array(
      'invisible' => array(
        ':input[name="field_hs_media_slides_ref[form][inline_entity_form][field_overlay_position]"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_overlay_link_button']['#states'] = array(
      'invisible' => array(
        ':input[name="field_hs_media_slides_ref[form][inline_entity_form][field_overlay_position]"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_overlay_display']['#states'] = array(
      'invisible' => array(
        ':input[name="field_hs_media_slides_ref[form][inline_entity_form][field_overlay_position]"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_image_caption']['#states'] = array(
      'invisible' => array(
        ':input[name="field_hs_media_slides_ref[form][inline_entity_form][field_overlay_position]"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_overlay_sizing']['#states'] = array(
      'invisible' => array(
        ':input[name="field_hs_media_slides_ref[form][inline_entity_form][field_overlay_position]"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_subtitle']['#states'] = array(
      'invisible' => array(
        ':input[name="field_hs_media_slides_ref[form][inline_entity_form][field_overlay_position]"]' => array('value' => 'disabled'),
      ),
    );
  }
}

/**
 * @Implements hook_form_FORM_ID_alter().
 */
function drowl_header_slides_form_alter(&$form, &$form_state, $form_id) {
  // Media entity form alter:
  if(in_array($form_id, array('media_slide_form', 'media_slide_edit_form'))){
    // Make field dependent on field_overlay_position value:
    $form['field_title']['#states'] = array(
      'invisible' => array(
        ':input[name="field_overlay_position"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_overlay_link_button']['#states'] = array(
      'invisible' => array(
        ':input[name="field_overlay_position"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_overlay_display']['#states'] = array(
      'invisible' => array(
        ':input[name="field_overlay_position"]' => array('value' => 'disabled'),
      ),
    );
    $form['field_image_caption']['#states'] = array(
      'invisible' => array(
        ':input[name="field_overlay_position"]' => array('value' => 'disabled'),
      ),
    );
  }
}
