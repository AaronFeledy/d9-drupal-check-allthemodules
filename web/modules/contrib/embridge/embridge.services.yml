services:
  embridge.client:
    class: Drupal\embridge\EnterMediaDbClient
    arguments: ["@config.factory", "@http_client", "@serialization.json", "@file_system"]
  embridge.asset_helper:
    class: Drupal\embridge\EnterMediaAssetHelper
    arguments: ["@config.factory", "@entity_type.manager", "@logger.channel.embridge", "@file.mime_type.guesser", "@embridge.client"]
  embridge.cache_helper:
    class: Drupal\embridge\EmbridgeCacheHelper
    arguments: ["@stream_wrapper_manager"]
  logger.channel.embridge:
    class: Drupal\Core\Logger\LoggerChannel
    factory: logger.factory:get
    arguments: ['embridge']
  embridge.asset_validator:
    class: Drupal\embridge\EmbridgeAssetValidator
    arguments: ["@module_handler", "@entity_type.manager", "@current_user"]
  embridge.normalizer.asset.hal:
    class: Drupal\embridge\Normalizer\EmbridgeAssetNormalizer
    arguments: ['@hal.link_manager', '@serializer.entity_resolver']
    tags:
      - { name: normalizer, priority: 30 }