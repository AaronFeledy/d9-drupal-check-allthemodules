<?php
/**
 * @file
 * Dream permissions module.
 */
use Drupal\Core\Render\Element;

/**
 * Implements hook_menu().
 */
function dream_permissions_menu() {
  if (!variable_get('dream_permissions_override_default_page', FALSE)) {
    $items['admin/people/dream_permissions'] = array(
      'title' => 'Dream permissions',
      'page callback' => 'drupal_get_form',
      'page arguments' => array('dream_permissions_page'),
      'access arguments' => array('access dream permissions'),
      'type' => MENU_LOCAL_TASK,
    );
  }

  return $items;
}

/**
 * Implements hook_menu_alter().
 */
function dream_permissions_menu_alter(&$items) {
  if (variable_get('dream_permissions_override_default_page', FALSE)) {
    $items['admin/people/permissions'] = array(
      'title' => 'Permissions',
      'page callback' => 'drupal_get_form',
      'page arguments' => array('dream_permissions_page'),
      'access arguments' => array('access dream permissions'),
      'type' => MENU_LOCAL_TASK,
    );
  }
}
