services:
  commerce_country_store.prefix_store_resolver:
    class: Drupal\commerce_country_store\Resolver\PrefixStoreResolver
    arguments: ['@entity_type.manager', '@request_stack']
    tags:
      - { name: commerce_store.store_resolver, priority: 200 }

  commerce_country_store.geolocation_store_resolver:
      class: Drupal\commerce_country_store\Resolver\GeolocationStoreResolver
      arguments: ['@entity_type.manager', '@request_stack', '@geoip.geolocation']
      tags:
        - { name: commerce_store.store_resolver, priority: 100 }

  commerce_country_store.path_processor:
    class: Drupal\commerce_country_store\PathProcessor
    arguments: ['@entity_type.manager', '@commerce_store.current_store']
    tags:
      - { name: path_processor_inbound, priority: 1800 }
      - { name: path_processor_outbound, priority: -1100 }
