<?php
/**
 * @file
 * Hook implementations for media_elvis.
 */

/**
 * Implements hook_theme().
 */
function media_elvis_theme($existing, $type, $theme, $path) {
  return [
    'elvis_search_result' => [
      'template' => 'elvis-search-result',
      'variables' => [
        'src' => NULL,
        'title' => NULL,
        'dimension' => NULL,
      ],
    ]
  ];
}

/**
 * Implements hook_library_info_alter().
 */
function media_elvis_library_info_alter(&$libraries, $extension) {
  // Optionally use the Libraries module to determine our library paths.
  if ($extension == 'media_elvis' && \Drupal::moduleHandler()->moduleExists('libraries')) {
    $imagesloaded_path = libraries_get_path('imagesloaded') . '/imagesloaded.pkgd.min.js';
    $masonry_path = libraries_get_path('masonry') . '/dist/masonry.pkgd.min.js';

    $libraries['imagesloaded']['js'] = ['/' . $imagesloaded_path => ['minified' => 'true']];
    $libraries['masonry']['js'] = ['/' . $masonry_path => ['minified' => 'true']];
  }
}
