<?php
/**
 * @file
 * Views HTTP Pager module.
 */

use Drupal\views_http_pager\LinkHeaderHelper;
use Drupal\rest\Plugin\views\display\RestExport;
use Drupal\views\ViewExecutable;

/**
 * Implements hook_views_post_execute().
 */
function views_http_pager_views_post_execute(ViewExecutable $view) {
  if ($view->getDisplay() instanceof RestExport) {
    LinkHeaderHelper::addLinkHeaders(
      $view->getResponse(),
      LinkHeaderHelper::getPagerLinksFromView($view)
    );
  }
}
