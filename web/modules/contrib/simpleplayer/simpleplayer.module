<?php
/**
 * @file
 * All functions for the HTML5 SimplePlayer module.
 */

/**
 * Implements hook_theme().
 */
function simpleplayer_theme() {

  return array(
    'simpleplayer' => array(
      'variables' => array(
        'simpleplayer_fa' => NULL,
        'simpleplayer_counter' => NULL,
        'simpleplayer_progressbar' => NULL,
        'simpleplayer_mediapath' => NULL,
        'simpleplayer_mediatype' => NULL,
        'simpleplayer_download_button' => NULL,
        'simpleplayer_back30_button' => NULL,
        'simpleplayer_combospeed_button' => NULL,
      ),
      'template' => 'simpleplayer',
    ),
  );
}

/**
 * Get mediafile extension (for checking mp4 vs mp3).
 *
 * @param string $mediafile
 *   Media filename.
 *
 * @return string
 *   returns 'video' 'audio' or 'other'.
 */
function simpleplayer_type($mediafile) {
  switch (strtolower(strstr(basename(parse_url($mediafile, PHP_URL_PATH)), '.'))) {
    case '.mp4':
      return 'video';

    case '.mp3':
      return 'audio';

    default:
      return 'other';
  }
}
