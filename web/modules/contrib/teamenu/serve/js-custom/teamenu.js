!function(t,e,n,s,i){"use strict";function a(e,n){this.$id=t("#"+e),this.$rootList=this.$id.find("ul.menu-root"),this.$nonRootLists=this.$id.find("ul.menu-root > li ul"),this.$items=this.$id.find("a"),this.$activeItem=null,this.keys={tab:9,enter:13,esc:27,space:32,left:37,up:38,right:39,down:40},this.addMarkup(n),this.bindHandlers(n)}e.behaviors.teaMenu={attach:function(e,n){t("nav.block-menu",e).on("focus","ul.menu",function(e){t(this).blur()}),t("nav.block-menu ul.menu li",e).on("focus","> a",function(e){t(this).addClass("focus").removeClass("blur")}),t("nav.menu-teamenu ul.menu li",e).on("focus","> a",function(e){t(this).siblings(".menu-toggle").addClass("menu-shown"),t(this).parents().siblings(".menu-toggle").addClass("menu-shown")}),t("nav.block-menu ul.menu li",e).on("blur","> a",function(e){t(this).addClass("blur").removeClass("focus")}),t("nav.menu-teamenu ul.menu li",e).on("blur","> a",function(e){t(this).siblings(".menu-toggle").removeClass("menu-shown"),t(this).parents().not(".menu-root").siblings(".menu-toggle").removeClass("menu-shown")}),t(s,e).on({mouseenter:function(){t(this).children(".menu-toggle").addClass("menu-hovered")},mouseleave:function(){t(this).children(".menu-toggle").removeClass("menu-hovered")}},"nav.block-menu ul.menu-root > li.menu-item--expanded:not(.menu-shown)"),t("nav.menu-teamenu",e).on("click",".menu-toggle",function(){t(this).is(".menu-shown")?(t(this).html('<span class="visually-hidden">show this menu</span>'),t(this).removeClass("menu-shown")):(t(this).html('<span class="visually-hidden">hide this menu</span>'),t(this).addClass("menu-shown"))}),t("nav.menu-not-teamenu",e).on("click","> .menu-toggle",function(){t(this).is(".menu-shown")?(t(this).html('<span class="visually-hidden">show this menu</span>'),t(this).removeClass("menu-shown")):(t(this).html('<span class="visually-hidden">hide this menu</span>'),t(this).addClass("menu-shown"))})}},e.behaviors.keyNav={attach:function(e,n){t("nav.block-menu ul.menu-root",e).each(function(e){t(this).addClass("open").attr("role","menubar").attr("tabindex","-1"),t(this).find("ul").attr("role","menu").attr("tabindex","-1"),t(this).find("li").attr("role","presentation").attr("tabindex","-1"),t(this).find("> li > a").attr("tabindex","0").attr("role","menuitemradio"),t(this).find("ul li > a").attr("tabindex","-1").attr("role","menuitemradio"),t(this).find("li.menu-item--expanded").attr("aria-haspopup","true"),t(this).find("li.active a.active").attr("aria-selected","true"),t(this).not(".menu-root-processed").addClass("menu-root-processed")}),t("nav.menu-not-teamenu ul.menu-root",e).each(function(e){t(this).find(".menu-toggle").addClass("menu-shown"),t(this).find(".menu-toggle").html('<span class="visually-hidden">hide this menu</span>')}),t("nav.block-menu",e).each(function(e){var n=t(this).attr("id");new a(n,e)})}},a.prototype.addMarkup=function(e){this.$rootList.find("a").each(function(n){return t(this).attr("id","m"+e+"a"+n),!0}),this.$nonRootLists.each(function(e){var n=t(this).siblings("a").attr("id");return t(this).attr("aria-labelledby",n),!0})},a.prototype.bindHandlers=function(){var e=this;this.$items.keydown(function(n){return e.handleKeyDown(t(this),n)})},a.prototype.handleKeyDown=function(t,e){switch(e.keyCode){case this.keys.space:var s=t.attr("href");return n.location.href=s,e.stopPropagation(),!1;case this.keys.enter:var s=t.attr("href");return n.location.href=s,e.stopPropagation(),!1;case this.keys.tab:return e.altKey?(e.stopPropagation(),!1):e.shiftKey?t.parent().parent().is(".menu-root")&&t.parent().is(":first-child")?!0:(t.parent().is(":first-child")||(this.$activeItem=t.parent().prev().children("a"),this.$activeItem.focus()),e.stopPropagation(),!1):t.parent().parent().is(".menu-root")&&t.closest("li").is(":last-child")?!0:(t.parent().not(":last-child")&&(this.$activeItem=t.parent().next().children("a"),this.$activeItem.focus()),e.stopPropagation(),!1);case this.keys.esc:return t.parent().parent().is(".menu-root")?(e.stopPropagation(),!0):(this.$activeItem=t.parent().parent().siblings("a"),this.$activeItem.focus(),e.stopPropagation(),!1);case this.keys.left:return t.parent().is(":first-child")||(this.$activeItem=t.parent().prev().children("a"),this.$activeItem.focus()),e.stopPropagation(),!1;case this.keys.right:return t.parent().is(":last-child")||(this.$activeItem=t.parent().next().children("a"),this.$activeItem.focus()),e.stopPropagation(),!1;case this.keys.up:return t.parent().parent().is(".menu-root")||(this.$activeItem=t.parent().parent().siblings("a"),this.$activeItem.focus()),e.stopPropagation(),!1;case this.keys.down:if(t.parent().is(".menu-item--expanded"))return this.$activeItem=t.siblings("ul").children("li:first-child").children("a"),this.$activeItem.focus(),e.stopPropagation(),!1;break;default:return!0}}}(jQuery,Drupal,this,this.document);