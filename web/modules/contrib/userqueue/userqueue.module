<?php
/**
 * @file
 * This module holds functions of userqueue site.
 */

use Drupal\Core\Routing\RouteMatchInterface;
use Drupal\Core\Url;

/**
 * Implements hook_help().
 */
function userqueue_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    case 'userqueue.admin_userqueue.list':
      return '<p>' . t('Add users to a queue and retrieve them in blocks') . '</p>';
  }
}

/**
 * Load userqueue using uqid
 */
function userqueue_load($uqid) {
  //Get the queue data.
  $userqueue = db_select('userqueue', 'uq')
    ->condition('uq.uqid', $uqid, '=')
    ->fields('uq',array('uqid', 'title', 'size', 'reverse'))
    ->execute()
    ->fetchAssoc();

  return $userqueue;
}

/**
 * Delete userqueue using uqid
 */
function userqueue_delete($uqid) {
  db_delete('userqueue')
  ->condition('uqid', $uqid)
  ->execute();
}