<?php
/**
 * @file
 * Primary hook implementations for the Phonetic module.
 */

/**
 * Implements hook_node_presave().
 *
 * Optionally update all node titles prior to saving. Note: it is assumed that
 * all existing node titles are OK, if any need to be filtered just resave them
 * in order to trigger the filter.
 */
function phonetic_node_presave(\Drupal\Core\Entity\EntityInterface  $node) {

  $title = $node->getTitle();
  $sanitized_title =  check_markup($title);
  if($title != $sanitized_title){
    $node->setTitle($sanitized_title);
  }
}
