<?php

use Drupal\views\ViewExecutable;

/**
 * Implements hook_views_preview()
 */
function views_args_views_pre_view(ViewExecutable $view, $display_id, array &$args) {
  $display = $view->storage->getDisplay('default');
  $arguments = $display['display_options']['arguments'];
  $i = 0;
  $route_match = \Drupal::routeMatch();
  foreach ($arguments as $k => $v) {
    if ($value = $route_match->getParameter($k)) {
      if (is_object($value)) {
        $value = $value->id();
      }
      $args[$i] = $value;
    }
    $i ++;
  }
}
