<?php

/**
 * @file
 * Install, update and uninstall functions for the system_user module.
 */

use Drupal\system_user\Entity\SystemUser;

/**
 * Implements hook_install().
 */
function system_user_install() {
  // If there are no system users, create one.
  if (!\Drupal::service('system_user.system_user')->getAll()) {
    $user = SystemUser::create([
      'name' => sprintf('%s system user', \Drupal::config('system.site')->get('name')),
    ]);
    $user->activate();
    $user->save();
  }
}
