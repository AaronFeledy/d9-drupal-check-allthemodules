<?php

use Drupal\Core\Entity\EntityInterface;
use Drupal\Core\Url;

/**
 * Adds operations to integro connector entity.
 * Implements hook_entity_operation().
 *
 * @param \Drupal\Core\Entity\EntityInterface $entity
 * @return array
 */
function integro_entity_operation(EntityInterface $entity) {
  if ($entity->getEntityTypeId() === 'integro_connector') {
    $operations = [];
    $operations['authorize'] = [
      'title' => t('Authorize'),
      'url' => Url::fromRoute('entity.integro_connector.authorize', [
        'integro_connector' => $entity->id(),
      ]),
      'weight' => 20,
    ];
    return $operations;
  }
}
