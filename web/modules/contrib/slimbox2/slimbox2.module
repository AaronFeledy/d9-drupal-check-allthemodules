<?php

/**
 * @file
 * Drupal Module: Slimbox2
 *
 * Integrates the Slimbox2 "Light box" extension to a site.
 * Add rel="lightbox" or class="lighbox" to turn any link into a lightbox effect.
 * Form more information visit the slimbox site: <http://www.digitalia.be/software/slimbox2>
 * Requires that Slimbox2 files are installed in /sites/all/libraries/slimbox2
 *
 * @author: Andrew Wasson <https://drupal.org/user/127091>
 */

 /**
  * Implements hook_page_attachments_alter().
  */
function slimbox2_page_attachments_alter(array &$page) {
  if (!\Drupal::currentUser()->hasPermission('access content')) {
    return;
  }
  $page['#attached']['library'][] = 'slimbox2/slimbox_2';
}

/**
 * Implements hook__help().
 */
function slimbox2_help($route_name, \Drupal\Core\Routing\RouteMatchInterface $route_match) {
  switch ($route_name) {
    // Main module help for the slimbox2 module.
    case 'help.page.slimbox2':
    return t("<p>The slimbox 2 module is a wrapper that integrates the lightweight Slimbox 2 'lightbox' jQuery extension into your Drupal site.</p><p>In order for the Slimbox 2 module to work you must have a copy of the Slimbox 2 jQuery extension installed in your website's libraries directory. You can get the extension from <a href=\"https://github.com/cbeyls/slimbox/releases/tag/2.05\" target=\"_blank\">https://github.com/cbeyls/slimbox/releases/tag/2.05</a>. Rename it to 'slimbox2' and upload it to your libraries folder at /libraries/slimbox2.</p><p>With the Slimbox 2 extension installed on your site you can give any link a 'lightbox' effect by adding a rel=\"lightbox\" attribute. You can make a series of lightbox images by adding a rel=\"lightbox-series\" attribute to each link.</p>", array(':blocks' => \Drupal::url('block.admin_display')));

  }
}
