services:

  plugin.manager.custom_configurations:
    class: Drupal\custom_configurations\CustomConfigurationsPluginManager
    parent: default_plugin_manager
    arguments: ['@container.namespaces', '@cache.default', '@module_handler']

  custom_configurations.manager:
    class: Drupal\custom_configurations\CustomConfigurationsManager
    arguments: ['@config.factory', '@language_manager', '@module_handler', '@keyvalue', '@plugin.manager.custom_configurations', '@current_user', '@cache.default']

  custom_configurations.event_subscriber:
    class: '\Drupal\custom_configurations\EventSubscriber\CustomConfigurationsEventSubscriber'
    arguments: ['@cache.default', '@router.builder']
    tags:
      - { name: 'event_subscriber' }

  custom_configurations.twig_extension:
    class: Drupal\custom_configurations\TwigExtension\CustomConfigurationsGetConfig
    arguments: ['@custom_configurations.manager', '@language_manager']
    tags:
      - { name: twig.extension }

  custom_configurations.breadcrumb:
    class: Drupal\custom_configurations\Breadcrumb\CustomConfigurationsBreadcrumbBuilder
    tags:
      - { name: breadcrumb_builder, priority: 100 }
