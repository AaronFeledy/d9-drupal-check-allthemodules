<?php

/**
 * @file
 * Provides an Aliyun OSS plugin for Flysystem.
 */

use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssFileAudioFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssFileDefaultFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssFileLinkFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssFileTableFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssFileUriFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssFileUrlPlainFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssFileVideoFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssImageFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssImageUrlFormatter;
use Drupal\flysystem_aliyun_oss\Plugin\Field\FieldFormatter\AliyunOssRssEnclosureFormatter;

/**
 * Implements hook_field_formatter_info_alter().
 */
function flysystem_aliyun_oss_field_formatter_info_alter(array &$info) {

  if (array_key_exists('image', $info)) {
    $info['image']['class'] = AliyunOssImageFormatter::class;
  }
  if (array_key_exists('file_video', $info)) {
    $info['file_video']['class'] = AliyunOssFileVideoFormatter::class;
  }
  if (array_key_exists('file_audio', $info)) {
    $info['file_audio']['class'] = AliyunOssFileAudioFormatter::class;
  }
  if (array_key_exists('file_link', $info)) {
    $info['file_link']['class'] = AliyunOssFileLinkFormatter::class;
  }
  if (array_key_exists('file_uri', $info)) {
    $info['file_uri']['class'] = AliyunOssFileUriFormatter::class;
  }
  if (array_key_exists('file_rss_enclosure', $info)) {
    $info['file_rss_enclosure']['class'] = AliyunOssRssEnclosureFormatter::class;
  }
  if (array_key_exists('file_table', $info)) {
    $info['file_table']['class'] = AliyunOssFileTableFormatter::class;
  }
  if (array_key_exists('file_url_plain', $info)) {
    $info['file_url_plain']['class'] = AliyunOssFileUrlPlainFormatter::class;
  }
  if (array_key_exists('file_default', $info)) {
    $info['file_default']['class'] = AliyunOssFileDefaultFormatter::class;
  }
  if (array_key_exists('image_url', $info)) {
    $info['image_url']['class'] = AliyunOssImageUrlFormatter::class;
  }
  if (array_key_exists('file_default', $info)) {
    $info['file_default']['class'] = AliyunOssFileDefaultFormatter::class;
  }
}
