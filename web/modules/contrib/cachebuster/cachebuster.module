<?php

/**
 * @file
 * Removes query string from CSS files in final html.
 */

use Drupal\Core\Asset\AttachedAssetsInterface;

/**
 * Implements hook_css_alter().
 */
function cachebuster_css_alter(&$css, AttachedAssetsInterface $assets) {
  foreach ($css as &$file) {
    if ($file['type'] != 'external') {
      $file['type'] = 'external';
      $file['data'] = '/' . $file['data'];
    }
  }
  drupal_set_message(t("Cachebuster is enabled! If you are not doing frontend development work you might wanna uninstall it. Don't say we didn't warn you."), 'warning');
}
