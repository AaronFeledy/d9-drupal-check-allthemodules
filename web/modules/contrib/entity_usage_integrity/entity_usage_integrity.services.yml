services:
  logger.channel.entity_usage_integrity:
    parent: logger.channel_base
    arguments: ['entity_usage_integrity']
  entity_usage_integrity.validator:
    class: Drupal\entity_usage_integrity\IntegrityValidator
    arguments: ['@entity_usage_integrity.usage', '@entity_type.manager', '@logger.channel.entity_usage_integrity', '@messenger', '@renderer']
  entity_usage_integrity.usage:
    class: Drupal\entity_usage_integrity\EntityUsage
    arguments: ['@database', '@entity_type.manager', '@entity_usage.usage', '@plugin.manager.entity_usage.track']
