
nodeletter.settings:
  type: config_object
  label: 'Nodeletter settings'
  mapping:
    from_name:
      type: string
      label: 'Default "from" name'
    reply_to_address:
      type: string
      label: 'Default "reply to"-mail'
    nodeletter_allow_sending:
      type: boolean
      label: 'Enable newsletter sending'
    sending_monitor_interval:
      type: integer
      label: 'Interval [minutes] in which active sendings will be monitored/checked'


node.type.*.third_party.nodeletter:
  type: mapping
  label: 'Nodeletter settings per node type'
  mapping:
    enabled:
      type: boolean
      label: 'Whether nodeletter is enabled for this node type or not'
    service_provider:
      type: string
      label: 'Name of ServiceProviderPlugin'


nodeletter.configuration.*.*:
  type: config_entity
  label: 'Nodeletter Configuration of a node type'
  mapping:
    id:
      type: string
      label: 'ID'
    node_type:
      type: string
      label: 'Machine name of node type'
    service_provider:
      type: string
      label: 'Name of newsletter service provider plugin'
    template_name:
      type: string
      label: 'Name of newsletter template'
    template_variables:
      type: sequence
      label: 'List of template variable settings'
      sequence:
        type: nodeletter.template_variable
    list_id:
      type: string
      label: 'ID of newsletter recipient list'


nodeletter.template_variable:
  type: mapping
  label: 'Nodeletter Template Variable'
  mapping:
    variable_name:
      type: string
      label: 'Variable name'
    weight:
      type: integer
      label: 'Order weight'
    field:
      type: string
      label: 'Machine name of field to use for this variable'
    formatter:
      type: string
      label: 'Machine name of formatter of field to render field value'
    formatter_settings:
      type: field.formatter.settings.[%parent.formatter]
      label: 'Formatter Settings'
    formatter_third_party_settings:
       type: sequence
       label: 'Formatter third party settings'
       sequence:
         type: field.formatter.third_party.[%key]
