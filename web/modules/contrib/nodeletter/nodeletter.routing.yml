entity.node.nodeletter:
  path: '/node/{node}/nodeletter'
  defaults:
    _title_callback: '\Drupal\nodeletter\Controller\NodeController::title'
    _controller: '\Drupal\nodeletter\Controller\NodeController::content'
  requirements:
    _entity_access: 'node.update' #TODO: create custom permission for press release newsletter management
    _nodeletter_enabled: 'node'
    _node_published: 'node'
    node: \d+
  options:
    parameters:
      node:
        type: entity:node

nodeletter.admin_settings:
  path: '/admin/config/services/nodeletter'
  defaults:
    _form: '\Drupal\nodeletter\Form\NodeletterSettingsForm'
    _title: 'Nodeletter'
  requirements:
    _permission: 'administer site configuration'

nodeletter.node_type_settings:
  path: '/admin/structure/types/manage/{node_type}/nodeletter'
  defaults:
    _controller: '\Drupal\nodeletter\Controller\SettingsController::nodeTypeSettings'
    _title_callback: '\Drupal\nodeletter\Controller\SettingsController::nodeTypeSettingsTitle'
  requirements:
    _permission: 'administer site configuration'
    _nodeletter_enabled: 'node_type'
  options:
    parameters:
      node_type:
        type: entity:node_type

entity.nodeletter_sending.canonical:
  path: '/admin/nodeletter/sendings/{nodeletter_sending}'
  defaults:
    _entity_view: 'nodeletter_sending'
    _title: 'Nodeletter Sending'
  requirements:
    _entity_access: 'nodeletter_sending.view'

entity.nodeletter_sending.delete_form:
  path: '/admin/nodeletter/sendings/{nodeletter_sending}/delete'
  defaults:
    _entity_form: nodeletter_sending.delete
    _title: 'Delete Nodeletter Sending'
  requirements:
    _entity_access: 'nodeletter_sending.delete'

entity.nodeletter_sending.collection:
  path: '/admin/nodeletter/sendings'
  defaults:
    _entity_list: 'nodeletter_sending'
    _title: 'Nodeletter Sendings List'
  requirements:
    _permission: 'view nodeletter_sending entity'
