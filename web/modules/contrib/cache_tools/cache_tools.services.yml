services:
  cache_tools.cache.invalidator:
    class: Drupal\cache_tools\Service\CacheInvalidator
    arguments: ['@cache_tags.invalidator','%cache_tools%']
  cache_tools.cache.sanitizer:
    class: Drupal\cache_tools\Service\CacheSanitizer
    arguments: ['@cache_tools.cache.invalidator', '%cache_tools%']

parameters:
  cache_tools:
    # Entity types and corresponding bundles that apply for invalidation.
    invalidate:
      node:
        - article
        - author_profile
        - page
        - recipe
      taxonomy_term:
        - topics
    # Sanitizing settings.
    sanitize:
      # Default cache tags and contexts to strip.
      defaults:
        contexts:
          - route
          - url
          - url.query_args
        tags:
          - node_list
          - taxonomy_term_list
      # Blocks to apply for cache tags/contexts sanitizing.
      block:
        food_theme_footer:
          contexts:
            include:
             - route.menu_active_trails:footer
        socialmedialinks:
          contexts:
            include:
             - route.menu_active_trails:social-media-links
        exposedform_searchpage:
          contexts:
            exclude:
             - url.query_args
