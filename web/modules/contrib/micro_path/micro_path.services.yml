services:
  micro_path.path_processor:
    class: Drupal\micro_path\PathProcessor\MicroPathProcessor
    arguments: ['@language_manager', '@entity_type.manager', '@path.alias_manager', '@micro_site.negotiator']
    tags:
      # Priority is very important here. The inbound processor needs to happen
      # BEFORE the path module alias processor, and the outbound needs to happen
      # AFTER the alias processor.
      - { name: path_processor_inbound, priority: 110 }
      - { name: path_processor_outbound, priority: 200 }
  micro_path.helper:
    class: Drupal\micro_path\MicroPathHelper
    arguments: ['@current_user', '@entity_type.manager', '@path.alias_manager', '@config.factory', '@micro_site.negotiator', '@module_handler', '@micro_path.site_alias_uniquifier', '@micro_path.pathauto_generator']
  micro_path.pathauto_generator:
    class: Drupal\micro_path\MicroPathautoGenerator
    arguments: ['@config.factory', '@module_handler', '@token', '@pathauto.alias_cleaner', '@pathauto.alias_storage_helper', '@pathauto.alias_uniquifier', '@pathauto.verbose_messenger', '@string_translation', '@token.entity_mapper', '@entity_type.manager', '@plugin.manager.alias_type', '@micro_path.site_alias_uniquifier']
  micro_path.site_alias_uniquifier:
    class: Drupal\micro_path\SiteAliasUniquifier
    arguments: ['@config.factory', '@module_handler', '@router.route_provider', '@path.alias_manager', '@entity_type.manager']