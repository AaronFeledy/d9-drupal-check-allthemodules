<?php

/**
 * @file
 *
 * Handles module administration and download link of Views File Downloader.
 */
use Drupal\file\Entity\File;

function files_node($nid) {
  $node = \Drupal::entityTypeManager()->getStorage('node')->load($nid);
  foreach ($node as $key => $value) {
    if(substr($key, 0,5) == 'field') {
      $field_type = $node->get($key)->getFieldDefinition()->getType();
      if($field_type == 'file') {
        $node = $node->get($key)->getValue();
      }
    }
  }
  $node_files = [];
  foreach ($node as $value) {
    $node_files[]= $value['target_id'];
  }
  $file_url = [];
  $file_id = $node_files;
  foreach ($file_id as $fid) {
    $file = File::load($fid);
    $file = drupal_realpath($file->uri->value);
    $file_url[] = $file;
  }
}
