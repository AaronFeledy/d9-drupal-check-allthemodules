<?php
/**
 * @file
 * This file is the main module file for Email Auto Login Test
 */

/**
 * Implements hook_menu().
 */
function email_auto_login_test_menu() {
  $items = array();

  $items['admin/config/system/email_auto_login/test'] = array(
    'title' => 'Test',
    'route_name' => 'email_auto_login.test',
    'type' => MENU_LOCAL_TASK,
  );

  return $items;
}

/**
 * Implements hook_mail().
 */
function email_auto_login_test_mail($key, &$message, $params) {
  if ($key == 'test') {
    $message['subject'] = "Test message from " . \Drupal::config('system.site')->get('name');
    $message['body'][] = $params['body'];
  }
}
