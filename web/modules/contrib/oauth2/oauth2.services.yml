parameters:
  oauth2.response_type_handler:
    code:               AuthBucket\OAuth2\ResponseType\CodeResponseTypeHandler
    token:              AuthBucket\OAuth2\ResponseType\TokenResponseTypeHandler

  oauth2.grant_type_handler:
    authorization_code: AuthBucket\OAuth2\GrantType\AuthorizationCodeGrantTypeHandler
    client_credentials: AuthBucket\OAuth2\GrantType\ClientCredentialsGrantTypeHandler
    password:           AuthBucket\OAuth2\GrantType\PasswordGrantTypeHandler
    refresh_token:      AuthBucket\OAuth2\GrantType\RefreshTokenGrantTypeHandler

  oauth2.token_type_handler:
    bearer:             AuthBucket\OAuth2\TokenType\BearerTokenTypeHandler
    mac:                AuthBucket\OAuth2\TokenType\MacTokenTypeHandler

  oauth2.resource_type_handler:
    model:              AuthBucket\OAuth2\ResourceType\ModelResourceTypeHandler
    debug_endpoint:     AuthBucket\OAuth2\ResourceType\DebugEndpointResourceTypeHandler

services:
  oauth2.exception_listener:
    class: Drupal\oauth2\EventListener\ExceptionListener
    arguments:
      - "@logger.factory"
    tags:
      - { name: kernel.event_listener, event: kernel.exception, method: onKernelException, priority: -2 }

  oauth2.oauth2_controller:
    class: Drupal\oauth2\Controller\OAuth2Controller
