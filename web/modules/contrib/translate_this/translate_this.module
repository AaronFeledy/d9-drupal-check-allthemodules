<?php

/**
 * @file
 * The TranslateThis Button is a lightweight Javascript translation
 * widget by Jon Raasch. It translates any page quickly using Ajax
 * and the Google Language API.
 *
 * The script is very lightweight, running well on any website. Its widget
 * provides an accessible Javascript interface for translating up to 52
 * languages (and counting). The user interface has been carefully designed to
 * work well in all environments on both PCs and mobile devices.
 *
 * Plugin released under the FreeBSD license, and leverages the TranslateThis
 * Button script which has its own licensing. For terms and conditions of use,
 * see http://translateth.is/tos.
 *
 * Copyright (c) 2010 Jon Raasch (http://jonraasch.com/)
 *
 * This module is developed by Baris Wanschers (aka BarisW)
 * Blog: http://www.bariswanschers.com/
 */

/**
 * Returns the default options for the Javascript functions.
 */
function translate_this_js_options() {
  $config = \Drupal::config('translate_this.settings');
  $settings = $config->get();
  $content = '';

  // Miscellaneous options.
  $scope = $settings['translate_this_scope'];
  $cookie = $settings['translate_this_use_cookie'];

  if ($scope) {
    $content .= "scope : '" . $scope . "',\r";
  }
  if ($cookie == FALSE) {
    $content .= "cookie : false,\r";
  }

  // Text options.
  $fromlang = $settings['translate_this_from_language'];
  $content .= "undoText : '" . t($settings['translate_this_undo_text']) . "',\r";
  $content .= "undoTime : '" . $settings['translate_this_undo_time'] . "',\r";
  $content .= "panelText : '" . t($settings['translate_this_main_panel_text']) . "',\r";
  $content .= "moreText : '" . t($settings['translate_this_more_languages_text']) . "',\r";
  $content .= "busyText : '" . t($settings['translate_this_busy_translating_text']) . "',\r";
  $content .= "cancelText : '" . t($settings['translate_this_cancel_translating_text']) . "',\r";
  if ($fromlang != 'unknown') {
    $content .= "fromLang : '" . $fromlang . "',\r";
  }

  // Dropdown languages.
  if ($settings['translate_this_use_default_languages'] == FALSE) {
    $available_languages = $settings['translate_this_available_languages'];
    $content .= "ddLangs : [\r";
    foreach ($available_languages as $langcode => $language) {
      if ($language) {
        $content .= "    '" . $langcode . "',\r";
      }
    }
    $content .= "],\r";
  }

  // Display options.
  if ($settings['translate_this_disable_button_image'] == TRUE) {
    $button_path = $GLOBALS['base_url'] . '/' . $settings['translate_this_alternate_button_image_path'];
    $button_height = $settings['translate_this_button_height'];
    $button_width = $settings['translate_this_button_width'];

    if (empty($button_path) || $button_path === $GLOBALS['base_url'] . '/') {
      $content .= "noBtn : true,\r";
    }
    else {
      $content .= "btnImg : '" . $button_path . "',\r";
      $content .= "btnHeight : " . $button_height . ",\r";
      $content .= "btnWidth : " . $button_width . ",\r";
    }
  }
  if ($settings['translate_this_disable_flag_thumbnails'] == TRUE) {
    $content .= "noImg : true,\r";
  }

  // Remove trailing comma and return.
  $content = substr($content, 0, -2);

  return $content;
}

/**
 * Returns an array with all the available languages.
 */
function translate_this_languages() {
  return array(
    'af' => 'Afrikaans',
    'sq' => 'Albanian',
    'ar' => 'Arabic',
    'be' => 'Belarusian',
    'bg' => 'Bulgarian',
    'ca' => 'Catalan',
    'zh-CN' => 'Chinese simplified',
    'zh-TW' => 'Chinese traditional',
    'hr' => 'Croatian',
    'cs' => 'Czech',
    'da' => 'Danish',
    'nl' => 'Dutch',
    'en' => 'English',
    'et' => 'Estonian',
    'fi' => 'Finnish',
    'fr' => 'French',
    'gl' => 'Gallician',
    'de' => 'German',
    'el' => 'Greek',
    'iw' => 'Hebrew',
    'hi' => 'Hindi',
    'hu' => 'Hungarian',
    'is' => 'Icelandic',
    'id' => 'Indonesian',
    'ga' => 'Irish',
    'it' => 'Italian',
    'ja' => 'Japanese',
    'ko' => 'Korean',
    'lv' => 'Latvian',
    'lt' => 'Lithuanian',
    'mk' => 'Macedonian',
    'ms' => 'Malay',
    'mt' => 'Maltese',
    'no' => 'Norwegian',
    'fa' => 'Persian',
    'pl' => 'Polish',
    'pt-PT' => 'Portuguese',
    'ro' => 'Romanian',
    'ru' => 'Russian',
    'sr' => 'Serbian',
    'sk' => 'Slovak',
    'sl' => 'Slovenian',
    'es' => 'Spanish',
    'sw' => 'Swahili',
    'sv' => 'Swedish',
    'tl' => 'Tagalog (Filipino)',
    'th' => 'Thai',
    'tr' => 'Turkish',
    'uk' => 'Ukranian',
    'vi' => 'Vietnamese',
    'cy' => 'Welsh',
    'yi' => 'Yiddish',
  );
}
