<?php

/**
 * @file
 * Domain Language detection and selection module.
 */

use Drupal\domain\DomainInterface;
use Drupal\Core\Url;

/**
 * Implements hook_domain_operations().
 */
function domain_lang_domain_operations(DomainInterface $domain) {
  $operations = [];

  if (\Drupal::currentUser()->hasPermission('administer domain language negotiation')) {
    $operations['domain_lang'] = [
      'title' => t('Language Detection and Selection'),
      'url' => Url::fromRoute('domain_lang.admin', ['domain' => $domain->id()]),
      'weight' => 90,
    ];
  }

  return $operations;
}
