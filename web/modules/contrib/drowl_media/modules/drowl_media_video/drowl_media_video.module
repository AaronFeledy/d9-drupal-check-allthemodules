<?php

use Drupal\Core\Form\FormStateInterface;
use Drupal\Core\Ajax\AjaxResponse;
use Drupal\Core\Ajax\AlertCommand;
use Drupal\Core\Ajax\InvokeCommand;

/**
 * Media Video Handling.
 */
function drowl_media_video_form_media_video_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id){
  
  // Copy video url into the video embed input field after file upload:

  // This does NOT work currently. Would be nice but until we have a solution we now solve this via custom JS.
  // See https://www.drupal.org/project/drupal/issues/3031542
  // $form['field_video_file']['widget']['#ajax'] = [
  //   'event' => 'change',
  //   'callback' => 'drowl_media_video_video_upload_callback',
  // ];
  // Working alternative currently:
  $form['field_video_file']['widget']['#attached']['library'][] = 'drowl_media_video/drowl-media-video';
}