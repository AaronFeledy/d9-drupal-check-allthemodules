openimmo.source.*:
  type: config_entity
  label: 'OpenImmo Source config'
  mapping:
    id:
      type: string
      label: 'ID'
    label:
      type: label
      label: 'Label'
    uuid:
      type: string
    feed_type:
      type: string
      label: 'Source type'
    feed_config:
      type: openimmo.feed.[%parent.feed_type]
    queries:
      type: sequence
      sequence:
        type: mapping
        mapping:
          id:
            type: string
          label:
            type: label
            label: 'Label'
          uuid:
            type: string
          weight:
            type: integer
            label: 'Weight'
          key_field:
            type: string
            label: 'Key Field'
          entity:
            type: string
            label: 'Entity'
          select:
            type: text
            label: 'Select'

openimmo.feed.*:
  type: mapping
  label: 'OpenImmo Source'

openimmo.feed.file:
  type: mapping
  label: 'File'
  mapping:
    file_path:
      type: string
      label: 'File path'

openimmo.feed.ftp:
  type: mapping
  label: 'FTP'
  mapping:
    username:
      type: string
      label: 'User name'
    password:
      type: string
      label: 'Password'
    hostname:
      type: string
      label: 'Hostname'
    port:
      type: string
      label: 'Port'
    server_path:
      type: string
      label: 'Server Path'

openimmo.settings:
  type: config_object
  label: 'OpenImmo settings'
  mapping:
    fetch:
      type: mapping
      label: 'Fetch settings'
      mapping:
        max_attempts:
          type: integer
          label: 'Maximum attempts'
        timeout:
          type: integer
          label: 'Timeout in seconds'
    check:
      type: mapping
      label: 'Check settings'
      mapping:
        interval_days:
          type: integer
          label: 'Days since last check'
