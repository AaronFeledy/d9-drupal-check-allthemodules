services:

  plugin.manager.log_monitor.scheduler:
    class: Drupal\log_monitor\Scheduler\SchedulerPluginManager
    parent: default_plugin_manager

  plugin.manager.log_monitor.condition:
    class: Drupal\log_monitor\Condition\ConditionPluginManager
    parent: default_plugin_manager

  plugin.manager.log_monitor.reaction:
    class: Drupal\log_monitor\Reaction\ReactionPluginManager
    parent: default_plugin_manager

  plugin.manager.log_monitor.formatter:
    class: Drupal\log_monitor\Formatter\FormatterPluginManager
    parent: default_plugin_manager

  logger.log_monitor:
    class: Drupal\log_monitor\Logger\LogMonitorLog
    arguments: ['@database', '@logger.log_message_parser']
    tags:
      - { name: logger }
      - { name: backend_overridable }

  log_monitor.storage_manager:
    class: Drupal\log_monitor\StorageManager
    arguments: ['@database']

  log_monitor.dependency_manager:
    class: Drupal\log_monitor\DependencyManager
    arguments: ['@database']

  log_monitor.schedule_manager:
    class: Drupal\log_monitor\ScheduleManager
    arguments: ['@database']

  log_monitor.cleanup_manager:
    class: Drupal\log_monitor\CleanupManager
    arguments: ['@database']
