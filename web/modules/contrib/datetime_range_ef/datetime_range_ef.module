<?php

/**
 * @file
 * Contains datetime_range_ef.module.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function datetime_range_ef_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    // Main module help for the datetime_range_ef module.
    case 'help.page.datetime_range_ef':
      $output = '';
      $output .= '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('Provide extra datetime range formatters') . '</p>';
      $output .= '<p>' . t('This module provide two extra formatters for the core daterange field.') . '</p>';
      $output .= '<p>' . t('**Dategroup formatter** to group start and end dates. Works very well with a date format \'F d, Y \'') . '</p>';
      $output .= '<p>' . t('**Datediff formatter** to display the difference between start and end date. IMPORTANT: 1 YEAR = 365 DAYS, 1 MONTH = 30 DAYS. Or simply use the difference in days') . '</p>';
      $output .= '<h4>' . t('Usage') . '</h4>';
      $output .= '<p>' . t('Download and install the module as usual. No additional configuration is needed.') . '</p>';
      $output .= '<p>' . t('Go to the tab "Manage display" then you can select and configure the formatter for any daterange field you wish to use.') . '</p>';
      $output .= '<h5>' . t('Styling results') . '</h5>';
      $output .= '<p>' . t('**Raw result** return the simple arithmetic result without any formatting.') . '</p>';
      $output .= '<p>' . t('**Full formatted difference** return the difference using \'Output format for the difference\'') . '</p>';
      $output .= '<p>' . t('**Start date +days** return the start date and the difference in days. Use \'<a href="/admin/config/regional/date-time">Date and Time Formats</a>\' for the date output.') . '</p>';
      $output .= '<p>' . t('**Dates and difference** return start and end date and the formatted difference. Use \'<a href="/admin/config/regional/date-time">Date and Time Formats</a>\' for the date output and \'Output format for the difference\' for the difference.') . '</p>';
      $output .= '<h5>' . t('Duration') . '</h5>';
      $output .= '<p>' . t('Will add 1 day to the result. Eg. If start and end date are the same the difference will be 1 day. If start 15/03 and end 18/03 difference will be 4 days.') . '</p>';
      $output .= '<h5>' . t('Separator, date from difference') . '</h5>';
      $output .= '<p>' . t('Will be present if \'Dates and difference\' style is selected, name says it all.') . '</p>';
      $output .= '<h5>' . t('Output format for the difference') . '</h5>';
      $output .= '<p>' . t('REGEX formatter for the output. Any combination of \'Y\', \'M\' and \'D\' and the optional \'X\' for the difference in days, DOUBLEQUOTED WITH THE OPTIONAL SEPARATOR. The string will be replaced by values.</br>eg: "Y, " "M, " "D" return \'1 Year, 1 Month, 1 Day\', "Y+ " "M" return \'1 Year + 1 Month\'.') . '</p>';
      $output .= '<h5>' . t('Don\'t forget to hit the *Save* button to store your changes** otherwise they are lost.') . '</h5>';
      $output .= '<h4>' . t('Additional modules') . '</h4>';
      $output .= '<p>' . t('There are no additional modules.') . '</p>';
      $output .= '<h4>' . t('Credits') . '</h4>';
      $output .= '<p>' . t('"<a href="https://www.drupal.org/u/sdstyles">sdstyles</a>" for the <a href="https://www.drupal.org/project/date_group">Date Group formatter</a> and the general idea for this module.') . '</p>';

      return $output;
    default:
  }
}
