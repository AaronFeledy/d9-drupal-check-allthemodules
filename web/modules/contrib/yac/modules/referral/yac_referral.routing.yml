# This is the referral registration page for authenticated users. The title is blank on purpose.
yac_referral.registration:
  path: '/affiliate/to/{affiliate_code}'
  defaults:
    _controller: '\Drupal\yac_referral\Controller\ReferralAuthenticatedController::registration'
    _title: ''
  requirements:
    _custom_access: '\Drupal\yac_referral\Controller\ReferralAuthenticatedController::access'
    _permission: 'access content'

# This is the referral registration page for anonymous users. The title is blank on purpose.
yac_referral.registration_anonymous:
  path: '/user/register/{affiliate_code}'
  defaults:
    _controller: '\Drupal\yac_referral\Controller\ReferralAnonymousController::registration'
    _title: ''
  requirements:
    _custom_access: '\Drupal\yac_referral\Controller\ReferralAnonymousController::access'
    _permission: 'access content'

# Yac Referrals configuration route.
yac_referral.configuration:
  path: '/admin/yac/config/referral'
  defaults:
    _controller: '\Drupal\system\Controller\SystemController::systemAdminMenuBlockPage'
    link_id: 'yac_referral.configuration'
    _title: 'Referral'
  requirements:
    _permission: 'administer yac referral'

# Yac Referrals settings route.
yac_referral.settings:
  path: '/admin/yac/config/referral/settings'
  defaults:
    _form: '\Drupal\yac_referral\Form\ReferralConfigurationForm'
    _title: 'Settings'
  requirements:
    _permission: 'administer yac referral'

# Yac Referrals bulk actions route.
yac_referral.batch:
  path: '/admin/yac/config/referral/actions'
  defaults:
    _form: '\Drupal\yac_referral\Form\ReferralBatchForm'
    _title: 'Batch'
  requirements:
    _permission: 'can perform referral batch actions'

# Page that list all the members of the user's referral network.
yac_referral.network:
  path: '/user/{user}/network'
  base_route: entity.user.canonical
  defaults:
    _controller: '\Drupal\yac_referral\Controller\ReferralData::networkTable'
    _title: 'Your Network'
  requirements:
    _permission: 'view user referral network'
  options:
    parameters:
      entity:
        user: 'entity:user'