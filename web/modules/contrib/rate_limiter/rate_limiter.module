<?php
/**
 * @file
 * Contains the Rate Limiter module functions and hooks.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function rate_limiter_help($route_name, RouteMatchInterface $route_match) {
  $output = '';
  switch ($route_name) {
    case 'help.page.rate_limiter':
      $output .= '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('The Rate Limiter module provides a service for limits concurrent constant requests to the web-service calls in the application.') . '</p>';
      $output .= '<dl>';
      $output .= '<dt>' . t('Description') . '</dt>';
      $output .= '<dd>' . t('This rate limiting on API services are considered on number of requests based on a given time window. If the bucket becomes full before the time window finishes then the clients have to wait till the bucket is empty enough.') . '</dd>';
      $output .= '<dd>' . t('When the bucket is full and being emptied, the clients will receive a HTTP 429 Too Many Requests and a Retry-After header.') . '</dd>';
      $output .= '</dl>';
      break;
  }
  return $output;
}
