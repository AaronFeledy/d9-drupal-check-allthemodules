<?php

/**
 * @file
 * The czater module file.
 */

/**
 * Implements hook_page_attachments().
 *
 * Insert JavaScript to the appropriate scope/region of the page.
 */
function czater_page_attachments_alter(array &$page) {
  $config = \Drupal::config('czater.settings');
  $app_code = $config->get('czater_kod');
  // Attach the Library and the settings.
  $page['#attached']['html_head'][] = [
    // The data.
    [
      '#type' => 'html_tag',
      '#tag' => 'script',
      '#value' => $app_code,

    ],
    // A key, to make it possible to recognize this HTML  element when altering.
    'czater',
  ];
  $page['#attached']['html_head'][] = [
    // The data.
    [
      '#type' => 'html_tag',
      '#tag' => 'script',
      '#attributes' => array('src' => 'https://www.czater.pl/assets/modules/chat/js/chat.js', 'async' => 1),

    ],
    // A key, to make it possible to recognize this HTML  element when altering.
    'czater2',
  ];
}

