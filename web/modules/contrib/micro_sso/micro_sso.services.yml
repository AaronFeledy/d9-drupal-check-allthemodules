services:
  cache.micro_sso_cache:
    class: Drupal\Core\Cache\CacheBackendInterface
    tags:
      - { name: cache.bin }
    factory: cache_factory:get
    arguments: [micro_sso_cache]
  micro_sso.subscriber:
    class: Drupal\micro_sso\EventSubscriber\MicroSsoSubscriber
    arguments: ['@micro_sso.helper']
    tags:
      - { name: event_subscriber }
  micro_sso.helper:
    class: Drupal\micro_sso\MicroSsoHelper
    arguments: ['@config.factory', '@micro_site.negotiator', '@csrf_token', '@request_stack', '@datetime.time', '@cache.micro_sso_cache', '@current_user']
