services:
  commerce_vl.viral_loops_subscriber:
    class: Drupal\commerce_vl\EventSubscriber\ViralLoopsEventSubscriber
    arguments: ['@entity_type.manager', '@commerce_vl.integrator']
    tags:
      - { name: event_subscriber }

  commerce_vl.integrator:
    class: Drupal\commerce_vl\ViralLoopsIntegrator
    arguments: ['@current_user', '@entity_type.manager', '@router.admin_context', '@config.factory', '@request_stack', '@http_client', '@logger.factory', '@keyvalue', '@queue']
