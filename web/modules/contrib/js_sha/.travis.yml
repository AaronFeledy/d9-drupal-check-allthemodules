# @file
# .travis.yml - Tests for the jsSHA Drupal module.

language: php
sudo: false

cache:
  directories:
  - $HOME/.composer/cache

php:
- 7.1
- 7.2

matrix:
  fast_finish: true

branches:
  only:
  - "8.x-1.x"

env:
  global:
  # add composer's global bin directory to the path
  # see: https://github.com/drush-ops/drush#install---composer
  - PATH="$PATH:$HOME/.composer/vendor/bin"

before_install:
- composer self-update
# Codesniffer and Coder
- composer global require squizlabs/php_codesniffer:^2.7
- composer global require drupal/coder:^8.2.12
- ln -s ~/.composer/vendor/drupal/coder/coder_sniffer/Drupal ~/.composer/vendor/squizlabs/php_codesniffer/CodeSniffer/Standards/

script:
- phpcs --report=full --standard=Drupal "$TRAVIS_BUILD_DIR" || true
