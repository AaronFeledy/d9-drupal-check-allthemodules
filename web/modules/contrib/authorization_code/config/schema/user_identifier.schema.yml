user_identifier:
  type: mapping
  mapping:
    plugin_id:
      type: string
      label: 'Plugin ID'
    settings:
      type: user_identifier_settings.[%parent.plugin_id]

user_identifier_settings.*:
  type: code_sender_settings

user_identifier_settings:
  type: mapping
  mapping: {}

code_sender_settings.email:
  type: user_identifier_settings

code_sender_settings.user_id:
  type: user_identifier_settings

code_sender_settings.username:
  type: user_identifier_settings
