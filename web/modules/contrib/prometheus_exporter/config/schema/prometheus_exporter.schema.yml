# Schema for configuration of the Prometheus Exporter module.

metrics_collector:
  type: mapping
  label: 'Metrics Collector'
  mapping:
    id:
      type: string
      label: 'ID'
    provider:
      type: string
      label: 'Provider'
    enabled:
      type: boolean
      label: 'Enabled'
    weight:
      type: integer
      label: 'Weight'
    settings:
      type: metrics_collector_settings.[%parent.id]

# Default for plugins without any schema.
metrics_collector_settings.*:
  type: mapping
  label: 'Metrics Collector settings'

prometheus_exporter.settings:
  type: config_object
  label: 'Prometheus Exporter Settings'
  mapping:
    collectors:
      type: sequence
      label: 'Enabled collectors'
      sequence:
        type: metrics_collector
