services:
  ip2country.manager:
    class: Drupal\ip2country\Ip2CountryManager
    arguments: ['@request_stack', '@database']

  cache_context.ip.country:
    class: Drupal\ip2country\Cache\Context\Ip2CountryCacheContext
    arguments: ['@request_stack', '@ip2country.manager']
    tags:
      - { name: cache.context }
