<?php

/**
 * @file
 * Colorbox Zoom Module.
 */

/**
 * Implements hook_page_attachments().
 *
 * @todo only load library on colorbox pages to save load time on the frontend
 */
function colorbox_zoom_page_attachments(array &$attachments) {
  // Access colorbox_zoom config
  $config = \Drupal::config('colorbox_zoom.settings');
  // Load colorbox_zoom library
  $attachments['#attached']['library'][] = 'colorbox_zoom/colorbox_zoom';
  // Add pass UI settings to javascript
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['duration'] = $config->get('zoom.duration');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['on_action'] = $config->get('zoom.on_action');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['touch'] = $config->get('zoom.touch');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['magnify'] = $config->get('zoom.magnify');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['target'] = $config->get('zoom.zoom_target');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['url'] = $config->get('zoom.url');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['onZoomIn'] = $config->get('zoom.onZoomIn');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['onZoomOut'] = $config->get('zoom.onZoomOut');
  $attachments['#attached']['drupalSettings']['colorbox_zoom']['options']['callback'] = $config->get('zoom.callback');
}