# Schema for the configuration files of the siteintel module.
bcubed.settings:
  type: config_object
  label: 'Bcubed Settings'
  mapping:
    default_type:
      type: string
      label: 'Default Bcubed Ad Type'
    active_js_plugins:
      type: sequence
      label: 'Active JS Plugins'
      sequence:
        type: mapping
        mapping:
          dependencies:
            type: sequence
            label: 'Library Dependencies'
            sequence:
              type: string
    bcubed_js:
      type: string
      label: 'URI of generated JS file'
    adblocker_bait_js:
      type: string
      label: 'URI of generated JS file'
    generated:
      type: string
      label: 'Timestamp of last JS generation'

bcubed.event.*:
  type: mapping
  label: 'Event settings'

bcubed.condition.*:
  type: mapping
  label: 'Condition settings'

bcubed.action.*:
  type: mapping
  label: 'Action settings'

bcubed.action.google_analytics_event:
  type: mapping
  label: 'Google Analytics Event'
  mapping:
    category:
      label: 'Category'
      type: string
    action:
      label: 'Action'
      type: string
    label:
      label: 'Label'
      type: string
    interaction:
      label: 'Interaction'
      type: boolean

bcubed.event.adblocker_detected:
  type: mapping
  label: 'AdBlocker Detected Event Settings'

bcubed.event.adblocker_not_detected:
  type: mapping
  label: 'AdBlocker Not Detected Event Settings'

bcubed.condition.nth_page_view:
  type: mapping
  label: 'Nth Page View Condition'
  mapping:
    n:
      label: 'Every Nth Page'
      type: integer

bcubed.condition.restrict_pages:
  type: mapping
  label: 'Restrict Pages Condition'
  mapping:
    mode:
      label: 'Mode'
      type: integer
    pages:
      label: 'Pages'
      type: string

bcubed.condition.originating_condition_set:
  type: mapping
  label: 'Originating Condition Set Condition'
  mapping:
    condition_set:
      label: 'Condition Set ID'
      type: string

bcubed.generated_strings:
  type: config_object
  mapping:
    dictionaries:
      type: sequence
      sequence:
        type: mapping
        mapping:
          strings:
            type: sequence
            sequence:
              type: string
          definition:
            type: sequence
            sequence:
              type: mapping
              mapping:
                key:
                  type: string
                  label: 'Key'
                length:
                  type: mapping
                  label: 'Length'
                  mapping:
                    min:
                      type: integer
                    max:
                      type: integer
