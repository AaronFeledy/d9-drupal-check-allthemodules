#Settings
simple_analytics.settings:
  path: '/admin/config/system/simple-analytics'
  defaults:
    _form: '\Drupal\simple_analytics\Form\SimpleAnalyticsConfig'
    _title: 'Simple Analytics settings'
  requirements:
    _permission: 'simple_analytics admin'

#Reports
simple_analytics.view.today:
  path: '/admin/reports/simple_analytics/view/today'
  defaults:
    _controller: '\Drupal\simple_analytics\Controller\SimpleAnalytics::viewToday'
    _title: 'Today'
  requirements:
    _permission: 'simple_analytics view_details'
# Details of a visitor.
simple_analytics.view.visitor:
  path: '/admin/reports/simple_analytics/view/today/{id}'
  defaults:
    _controller: '\Drupal\simple_analytics\Controller\SimpleAnalytics::viewVisiter'
    _title: 'Details'
  requirements:
    _permission: 'simple_analytics view_details'

simple_analytics.view.live:
  path: '/admin/reports/simple_analytics/view/live'
  defaults:
    _controller: '\Drupal\simple_analytics\Controller\SimpleAnalytics::viewLive'
    _title: 'Live'
  requirements:
    _permission: 'simple_analytics view_details'

simple_analytics.view.settings:
  path: '/admin/reports/simple_analytics/view/settings'
  defaults:
    _controller: '\Drupal\simple_analytics\Controller\SimpleAnalytics::viewSettings'
    _title: 'Settings'
  requirements:
    _permission: 'simple_analytics view_details'


simple_analytics.view.history:
  path: '/admin/reports/simple_analytics/view/history/{filter}'
  defaults:
    _controller: '\Drupal\simple_analytics\Controller\SimpleAnalytics::viewHistory'
    _title: 'History'
    filter: ''
  requirements:
    _permission: 'simple_analytics view_history'
  options:
    parameters:
      filter:
        type: String

#API
simple_analytics.tracker:
  path: '/simple_analytics/api/track'
  defaults:
    _controller: '\Drupal\simple_analytics\Controller\SimpleAnalyticsTracker::process'
    _title: ''
  requirements:
  # Free access for the internal tracker..
    _access: 'TRUE'
    
# Live view API
simple_analytics.api.live:
  path: '/simple_analytics/api/live'
  defaults:
    _controller: '\Drupal\simple_analytics\Controller\SimpleAnalyticsAPI::live'
    _title: ''
  requirements:
    _permission: 'simple_analytics view_live'
