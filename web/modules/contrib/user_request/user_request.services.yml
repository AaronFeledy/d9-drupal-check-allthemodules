services:
  user_request.request_edit_form_access_check:
    class: Drupal\user_request\Access\RequestEditFormAccessCheck
    tags:
      - { name: 'access_check', applies_to: '_user_request_edit_form_access' }

  user_request.response_form_access_check:
    class: Drupal\user_request\Access\ResponseFormAccessCheck
    tags:
      - { name: 'access_check', applies_to: '_user_request_response_form_access' }

  user_request.request_transition_guard:
    class: Drupal\user_request\Guard\RequestGuard
    tags:
      - { name: 'state_machine.guard', group: 'user_request' }

  user_request.delete_response_subscriber:
    class: Drupal\user_request\EventSubscriber\DeleteResponseSubscriber
    tags:
      - { name: 'event_subscriber' }

  user_request.send_message_subscriber:
    class: Drupal\user_request\EventSubscriber\SendMessageSubscriber
    calls:
      - [setSender, ['@?sender.sender']]
    tags:
      - { name: 'event_subscriber' }
