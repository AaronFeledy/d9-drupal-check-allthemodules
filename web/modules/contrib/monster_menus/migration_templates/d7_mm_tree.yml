id: d7_mm_tree

label: Migrate the mm_tree table from the source database

migration_group: monster_menus

migration_tags:
  - Drupal 7
  - Monster Menus

source:
  plugin: d7_mm_tree

destination:
  plugin: entity:mm_tree

process:
  # By setting mmtid to match the source, we're updating any existing rows in
  # place instead of creating new rows.
  mmtid: mmtid
  uid:
    -
      plugin: migration
      migration: d7_user
      source: uid
    -
      plugin: default_value
      default_value: 1
  name: name
  alias: alias
  parent:
    plugin: migration
    migration: d7_mm_tree
    source: parent
  default_mode: default_mode
  weight: weight
  theme: theme
  sort_idx: ''
  sort_idx_dirty:
    plugin: default_value
    default_value: 1
  hover: hover
  rss: rss
  ctime: ctime
  cuid:
    -
      plugin: migration
      migration: d7_user
      source: cuid
    -
      plugin: default_value
      default_value: 1
  mtime: mtime
  muid:
    -
      plugin: migration
      migration: d7_user
      source: muid
    -
      plugin: default_value
      default_value: 1
  node_info: node_info
  previews: previews
  hidden: hidden
  comment: comment

migration_dependencies: {}

dependencies:
  enforced:
    module:
      - monster_menus
