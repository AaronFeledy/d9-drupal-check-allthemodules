<?php

/**
 * @file
 * Primary module hooks for Views Restricted UI module.
 */

/**
 * Implements hook_entity_type_build().
 */
function views_restricted_entity_type_build(array &$entity_types) {
  $entity_types['view']
    ->setFormClass('edit', 'Drupal\views_restricted\ViewEditForm')
    ->setFormClass('preview', 'Drupal\views_restricted\ViewPreviewForm');
}

/**
 * Implements hook_module_implements_alter().
 */
function views_restricted_module_implements_alter(&$implementations, $hook) {
  if ($hook == 'entity_type_build') {
    // We must be last.
    $group = $implementations['views_restricted'];
    unset($implementations['views_restricted']);
    $implementations['views_restricted'] = $group;
  }
}
