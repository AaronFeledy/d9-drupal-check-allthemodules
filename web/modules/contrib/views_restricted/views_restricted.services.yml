services:
  views_restricted.route_subscriber:
    class: Drupal\views_restricted\EventSubscriber\ViewsRestrictedRouteSubscriber
    arguments: ['@current_user']
    tags:
      - { name: event_subscriber }
  plugin.manager.views_restricted:
    class: Drupal\views_restricted\ViewsRestrictedPluginManager
    parent: default_plugin_manager
  views_restricted.param_converter:
    class: Drupal\views_restricted\ViewsRestrictedParamConverter
    arguments: ['@plugin.manager.views_restricted']
    tags:
      - { name: paramconverter }
  paramconverter.views_ui.views_restricted:
    class: Drupal\views_restricted\ParamConverter\ViewsUIAlterViewsRestrictedConverter
    arguments: ['@paramconverter.views_ui']
    tags:
      - { name: paramconverter, priority: 99 }
