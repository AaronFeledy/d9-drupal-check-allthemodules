<?php

/**
 * @file
 * Enables the search json theme.
 */

/**
 * Implements hook_theme().
 */
function search_json_page_attachments_alter(&$build) {
  global $base_url;
  $module_path = drupal_get_path('module', 'search_json');
  $build['#attached']['drupalSettings']['search_json']['module_path'] = $module_path;
  $build['#attached']['drupalSettings']['search_json']['base_url'] = $base_url;
  return $build;
}

/**
 * Implements hook_theme().
 */
function search_json_theme($existing, $type, $theme, $path) {
  global $base_url;
  $module_path = drupal_get_path('module', 'search_json');
  return [
    'searchjson' => [
      'variables' => [
        'message' => [],
        'base_url' => $base_url,
        'module_path' => $module_path,
      ],
      'mail theme' => TRUE,
    ],
  ];
}
