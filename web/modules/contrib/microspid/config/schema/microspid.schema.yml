# Schema for the configuration files of the MicroSPiD module.

microspid.settings:
  type: mapping
  label: 'Impostazioni SPiD PASW'
  mapping:
    langcode:
      type: string
      label: 'Language code'
    default_langcode:
      type: string
      label: 'Site default language code'
    activate:
      type: boolean
      label: 'Activate authentication via MicroSPiD'
    auth_source:
      type: string
      label: 'Sorgente di autenticazione per questo SP'
    authlevel:
      type: string
      label: 'Livello autenticazione Spid'
    mail_attr:
      type: string
      label: 'MicroSPiD attribute to be used as email address for the user'
    role:
      type: mapping
      label: 'Role population'
      mapping:
        population:
          type: string
          label: 'Automatic role population from MicroSPiD attributes'
        eval_every_time:
          type: boolean
          label: 'Reevaluate roles every time the user logs in'
    register_users:
      type: boolean
      label: 'Register users'
    allow:
      type: mapping
      label: 'Drupal authentication'
      mapping:
        set_drupal_pwd:
          type: boolean
          label: 'Allow SAML users to set Drupal passwords'
        default_login:
          type: boolean
          label: 'Allow authentication with local Drupal accounts'
        default_login_roles:
          type: sequence
          label: 'Roles to be allowed to log in locally'
          sequence:
              type: string
              label: 'role'
        default_login_users:
          type: string
          label: 'Users to be allowed to log in locally'
    logout_goto_url:
      type: string
      label: 'Redirect users after logging out'
    sync:
      type: mapping
      label: 'Synchronize options'
      mapping:
        mail:
          type: boolean
          label: 'Synchronize mail on every login'
        user_name:
          type: boolean
          label: 'Synchronize user_name on every login'
    username_fiscalnumber:
      type: boolean
      label: 'Use fiscal number as username, else use "lastname.firstname"'
    autoenablesaml:
      type: boolean
      label: 'Automatically enable SAML authentication for existing users upon successful login'
    debug:
      type: boolean
      label: 'Expand the level of Drupal logging to include debugging information'
