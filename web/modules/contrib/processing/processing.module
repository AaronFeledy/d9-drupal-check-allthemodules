<?php

/**
 * @file
 * processing.module
 */

/**
 * Implements hook_library_info_build().
 */
function processing_library_info_build() {

  /* @var $config \Drupal\Core\Config\ConfigFactoryInterface */
  $config = \Drupal::service('config.factory');
  $settings = $config->get('processing.settings');

  $ret = [
    'processing' => [
      'remote' => 'https://github.com/processing-js/processing-js',
      'version' => '1.4.15',
      'js' => [
        $settings->get('defaults.processing_js_path') => [],
      ],
      'license' => [
        'name' => 'MIT',
        'url' => 'https://github.com/processing-js/processing-js/blob/master/bundle/LICENSE',
        'gpl-compatible' => TRUE,
      ],
    ],
  ];

  return $ret;
}

/**
 * Implements hook_theme().
 */
function processing_theme() {
  return [
    'processing_display' => [
      'variables' => [
        'rendermode' => 'source',
        'unique' => NULL,
        'code' => NULL,
        'attributes' => NULL,
      ],
      'file' => 'processing.theme.inc',
      'template' => 'processing-display',
    ],
  ];
}
