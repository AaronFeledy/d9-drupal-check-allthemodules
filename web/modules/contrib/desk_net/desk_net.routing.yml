desk_net.drupal_credentials:
  path: '/admin/config/desk-net'
  defaults:
    _controller: 'Drupal\desk_net\Controller\DrupalCredentialsController::drupalCredentials'
    _title: 'Desk-Net'
  requirements:
    _role: 'administrator'
  options:
    _admin_route: TRUE

desk_net.generate_new_credentials:
  path: '/admin/config/desk-net/generate-new-credentials'
  defaults:
    _controller: '\Drupal\desk_net\Controller\GenerateNewDrupalCredentialsController::generateNewCredentials'
    _title: 'Desk-Net'
  requirements:
    _role: 'administrator'
  options:
    _admin_route: TRUE

desk_net.desk_net_credentials:
  path: '/admin/config/desk-net/desk-net-credentials'
  defaults:
    _form: 'Drupal\desk_net\Form\DeskNetCredentialsForm'
    _title: 'Desk-Net'
  requirements:
    _role: 'administrator'
  options:
    _admin_route: TRUE

desk_net.status_matching:
  path: '/admin/config/desk-net/status-matching'
  defaults:
    _form: 'Drupal\desk_net\Form\DeskNetStatusMatching'
    _title: 'Desk-Net'
  requirements:
    _role: 'administrator'
  options:
    _admin_route: TRUE

desk_net.category_matching:
  path: '/admin/config/desk-net/category-matching'
  defaults:
    _form: 'Drupal\desk_net\Form\DeskNetCategoryMatching'
    _title: 'Desk-Net'
  requirements:
    _role: 'administrator'
  options:
    _admin_route: TRUE

desk_net.content_type_matching:
  path: '/admin/config/desk-net/content-type-matching'
  defaults:
    _form: 'Drupal\desk_net\Form\DeskNetContentTypeMatching'
    _title: 'Desk-Net'
  requirements:
    _role: 'administrator'
  options:
    _admin_route: TRUE

desk_net.slug_syncing:
  path: '/admin/config/desk-net/slug-syncing'
  defaults:
    _form: 'Drupal\desk_net\Form\DeskNetSlugSyncing'
    _title: 'Desk-Net'
  requirements:
    _role: 'administrator'
  options:
    _admin_route: TRUE

# Desk-Net API
desk_net.oauth2_server.token:
  path: '/dr-json/v1/oauth2/token'
  defaults:
     _controller: 'Drupal\oauth2_server\Controller\OAuth2Controller::token'
  requirements:
    _permission: 'use oauth2 server'

desk_net.statuses:
  path: '/dr-json/v1/statuses'
  defaults:
    _controller: '\Drupal\desk_net\Controller\APIController::saveStatuses'
  methods:  [POST]
  options:
    _auth: ['oauth2']
  requirements:
    _permission: 'access to Desk-Net API'

desk_net.create_publication:
  path: '/dr-json/v1/publication'
  defaults:
    _controller: '\Drupal\desk_net\Controller\APIController::createPublication'
  methods:  [POST]
  options:
    _auth: [ 'oauth2' ]
  requirements:
    _permission: 'access to Desk-Net API'

desk_net.update_publication:
  path: '/dr-json/v1/publication/{story_id}'
  defaults:
    _controller: '\Drupal\desk_net\Controller\APIController::updatePublication'
  methods:  [PUT]
  options:
    _auth: ['oauth2']
  requirements:
    _permission: 'access to Desk-Net API'

desk_net.delete_publication:
  path: '/dr-json/v1/publication/{story_id}'
  defaults:
    _controller: '\Drupal\desk_net\Controller\APIController::deletePublication'
  methods:  [DELETE]
  options:
    _auth: ['oauth2']
  requirements:
    _permission: 'access to Desk-Net API'
