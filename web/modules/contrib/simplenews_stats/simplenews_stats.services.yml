services:
  simplenews_stats.engine:
    class: Drupal\simplenews_stats\SimplenewsStatsEngine
    arguments: ['@request_stack','@current_route_match', '@entity_type.manager']

  simplenews_stats.event_subscriber:
    class: Drupal\simplenews_stats\EventSubscriber\SimplenewsStatsEventSubscriber
    tags:
      - {name: event_subscriber}
      
  simplenews_stats.mail:
    class: Drupal\simplenews_stats\SimplenewsStatsMail
    arguments: ['@simplenews_stats.engine', '@simplenews_stats.allowedlinks']
    
  simplenews_stats.allowedlinks:
    class: Drupal\simplenews_stats\SimplenewsStatsAllowedLinks
    arguments: ['@database']
