services:
  client_config_care.config_save:
    class: Drupal\client_config_care\Subscriber\ConfigSave
    arguments: ['@logger.channel.client_config_care', '@entity_type.manager', '@client_config_care.array_diff', '@client_config_care.deactivator']
    tags:
      - { name: event_subscriber }

  client_config_care.config_delete:
    class: Drupal\client_config_care\Subscriber\ConfigDelete
    arguments: ['@logger.channel.client_config_care', '@entity_type.manager', '@client_config_care.array_diff', '@client_config_care.deactivator']
    tags:
      - { name: event_subscriber }

  client_config_care.config_import:
    class: Drupal\client_config_care\Subscriber\ConfigImport
    arguments: ['@logger.channel.client_config_care']
    tags:
      - { name: event_subscriber }

  logger.channel.client_config_care:
    class: Drupal\Core\Logger\LoggerChannel
    factory: logger.factory:get
    arguments: ['client_config_care']

  client_config_care.array_diff:
    class: Drupal\client_config_care\Validator\ArrayDiffer
    arguments: []

  client_config_care.nonblocking_validator:
    class: Drupal\client_config_care\Validator\NonblockingConfigValidator
    arguments: ['@entity_type.manager', '@logger.channel.client_config_care']

  client_config_care.deactivator:
    class: Drupal\client_config_care\Deactivator
    arguments: ['@client_config_care.settings_factory']

  client_config_care.settings_factory:
    class: Drupal\client_config_care\SettingsFactory
