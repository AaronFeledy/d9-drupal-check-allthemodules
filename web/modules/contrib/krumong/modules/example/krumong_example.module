<?php

use Drupal\krumong as k;

/**
 * Implements hook_init()
 */
function krumong_example_init() {
  $data = menu_get_item();
  $d = function_exists('dpm');
  if ($data && $data['path'] !== 'js/admin_menu/cache') {
    k\dpm($_GET['q'], '$_GET[q]');
    k\dpm($data, 'menu_get_item()');
    krumong()->jMessage($data);
    $long_string = str_repeat("This is a very long string. ", 10);
    k\dpm("short string", 'short string');
    k\dpm(array("short string"), 'long string in array');
    k\dpm($long_string, 'long string');
    $d && dpm($long_string, 'long string, with devel dpm()');
    k\dpm(array($long_string), 'long string in array');
    $d && dpm(array($long_string), 'long string in array, with devel dpm()');
  }
}

/**
 * Implements hook_node_view()
 */
function krumong_example_node_view($node) {
  krumong()->kPrint($node);
  $d = function_exists('dfb');
  $d && dfb($node);
  $d && dfb(menu_get_item());
  drupal_set_message(krumong()->dump($node));
}
