<?php

/**
 * @file
 * Build dynamic query for developer.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function querybuilder_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    case 'help.page.querybuilder':
      $output  = '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('QueryBuilder is a module which build the dynamic query for developer especially which are new in drupal. This module helps the drupal developer for building dyamic query by follow drupal syntax. This will reduce the amount of time at the time of building query.') . '</p>';
      return ['#markup' => $output];
  }
}

/**
 * Implements hook_cron().
 */
function querybuilder_cron() {
  $clear_cache = \Drupal::config('querybuilder.settings')->get('clear_cache_by_cron');
  if (!empty($clear_cache)) {
    drupal_flush_all_caches();
    drupal_set_message(t('Cache cleared.'));
  }
}
