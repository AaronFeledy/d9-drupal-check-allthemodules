
# =================
# Polyfills
# =================
eventListenerOptions.polyfill:
  remote: https://github.com/WICG/EventListenerOptions
  header: true
  license:
    name: W3C
    url: https://github.com/WICG/EventListenerOptions/blob/gh-pages/LICENSE.md
    gpl-compatible: true
  js:
    js/polyfill/EventListenerOptions.min.js:
      browsers: { IE: 'lte IE 15' }
      minified: true
      weight: -5

promises.polyfill:
  remote: https://github.com/stefanpenner/es6-promise
  header: true
  license:
    name: MIT
    url: https://github.com/stefanpenner/es6-promise/blob/master/LICENSE
    gpl-compatible: true
  js:
    'https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js':
      type: external
      browsers: { IE: 'lte IE 11' }
      minified: true

# =================
# Utilities
# =================
utilities:
  js:
    js/toolshed.min.js: { minified: true }
  dependencies:
    - core/drupal
    - toolshed/promises.polyfill

EventListener:
  header: true
  js:
    js/EventListener.min.js: { minified: true }
  dependencies:
    - toolshed/eventListenerOptions.polyfill
    - toolshed/utilities

screen-events:
  js:
    js/Geom.min.js: { minified: true}
    js/screen-events.min.js: { minified: true }
  drupalSettings:
    Toolshed:
      eventDebounce: 200
      breakpoints: {}
  dependencies:
    - core/matchmedia
    - core/drupalSettings
    - toolshed/EventListener
    - toolshed/utilities

docking:
  css:
    component:
      css/dock.min.css: { minified: true }
  js:
    js/Dock.min.js: { minified: true }
  dependencies:
    - core/jquery
    - core/jquery.once
    - toolshed/screen-events

# =================
# Widgets
# =================
tooltip:
  css:
    theme:
      css/tooltip.min.css: { minified: true }
  js:
    js/widgets/tooltip.min.js: { minified: true}
  dependencies:
    - core/jquery

pager:
  js:
    js/widgets/pager.min.js: { minified: true }
  dependencies:
    - core/jquery

accordions:
  js:
    js/widgets/accordions.min.js: { minified: true }
  dependencies:
    - core/jquery

# Apply the behaviors separately from the actual functionality.
# This give us the option of using the library with or without Drupal behaviors.
behavior.accordions:
  js:
    js/behavior/accordions.js: {}
  drupalSettings:
    Toolshed:
      accordions:
        itemSelector: '.accordion-item'
        toggleSelector: '.accordion-item__toggle'
        bodySelector: '.accordion-item__body'
  dependencies:
    - core/drupalSettings
    - core/jquery.once
    - toolshed/accordions
