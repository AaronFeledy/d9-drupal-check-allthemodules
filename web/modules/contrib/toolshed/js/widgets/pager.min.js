"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},_createClass=function(){function i(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Drupal.Toolshed=Drupal.Toolshed||{},function(l){Drupal.Toolshed.InplacePager=function(){function n(e,t,s){var i=this;if(_classCallCheck(this,n),this.container=e,this.settings=_extends({show:8},s),this.element=l('<ul class="pager pager--inplace inline"></ul>').appendTo(this.container),this.element.wrap('<div class="pager-wrapper">'),this.displayed={startAt:1,endAt:0,items:[]},this.items=[],s.onNavClick&&(this.onNavClick=s.onNavClick),t.theme)for(var a=0;a<t.count;++a)this.items.push(l(Drupal.theme[t.theme](a,a+1)));else this.items=t;t.forEach(function(e,t){e.on("click",i,i.onNavClick).data("index",t),e.wrap('<li class="pager__item">'),e=e.parent()}),this.settings.show<this.items.length?(this.ellipsisFront=l('<span class="pager-ellipsis pager-ellipsis--front">...</span>').hide().insertBefore(this.element),this.ellipsisEnd=l('<span class="pager-ellipsis pager-ellipsis--end">...</span>').hide().insertAfter(this.element)):this._displayItems(0,this.items.length-1),this.setActive(0)}return _createClass(n,[{key:"get",value:function(e){return e<this.items.length?this.items[e]:this.items[this.items.length-1]}},{key:"setActive",value:function(e){var t=void 0,s=void 0;if(l(".pager__item--active",this.elem).removeClass("pager__item--active"),l.isNumeric(e)?(t=e,s=this.get(e)):t=(s=e).data("index"),s){var i=this.settings.show;if(i<this.items.length){var a=Math.max(t-(i>>1),0),n=a+i-1;n>=this.items.length&&(n=this.items.length-1,a=Math.max(n-i+1,0)),this._displayItems(a,n)}s.addClass("pager__item--active")}}},{key:"_displayItems",value:function(e,t){var s=void 0,i=this.displayed,a=i.items;for(a.length&&(a[0].removeClass("pager__item--first"),a[a.length-1].removeClass("pager__item--last"));i.startAt<e;)a.shift().detach(),i.startAt+=1;for(;i.startAt>e;)i.startAt-=1,(s=this.items[i.startAt])&&(a.unshift(s),this.element.prepend(s));for(;i.endAt>t;)a.pop().detach(),i.endAt-=1;for(;i.endAt<t;)i.endAt+=1,(s=this.items[i.endAt])&&(a.push(s),this.element.append(s));this.ellipsisFront&&0!==i.startAt^this.ellipsisFront.is(":visible")&&this.ellipsisFront.toggle(),this.ellipsisEnd&&i.endAt!==this.items.length-1^this.ellipsisEnd.is(":visible")&&this.ellipsisEnd.toggle(),a[0].addClass("pager__item--first"),a[a.length-1].addClass("pager__item--last")}},{key:"destroy",value:function(){this.items.forEach(function(e){return e.remove()}),this.element.remove()}}]),n}()}(jQuery);