"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},_createClass=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Drupal.Toolshed=Drupal.Toolshed||{},function(o,t){Drupal.Toolshed.Tooltip=function(){function s(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,s),this.settings=_extends({event:"click",position:"absolute",exclusive:!0,closeOnClickOff:!0,attachTo:t},i),this.trigger=e,this.trigger&&this.trigger.length?this.trigger.hasClass("toolshed-tip__trigger")||this.trigger.addClass("toolshed-top__trigger"):this.trigger=o('<a class="toolshed-tip__trigger" title="Click for help text." href="#">?</a>').insertAfter(this.attachTo),this.element=t.wrap('<div class="toolshed-tip__content">').parent().hide(),this.trigger.on(this.event,this,this.onToggle),"absolute"===this.settings.position&&o("body").append(this.element)}return _createClass(s,[{key:"adjustPosition",value:function(){this.offsetTop&&this.offsetLeft||(this.offsetTop=this.trigger.outerHeight()/2-16,this.offsetLeft=this.trigger.outerWidth()+32);var t="absolute"===this.settings.position?this.trigger.offset():this.trigger.position();t.top+=this.offsetTop,t.left+=this.offsetLeft,this.element.css(t)}},{key:"show",value:function(){this.exclusive&&(Drupal.Toolshed.activeTooltip&&Drupal.Toolshed.activeTooltip.close(),Drupal.Toolshed.activeTooltip=this),this.trigger.addClass("tip--active"),this.adjustPosition(),this.element.show(),o("body").on("click",this,this.onClose)}},{key:"close",value:function(){this.element.is(":visible")&&(this.element.hide(),this.trigger.removeClass("tip--active"),this===Drupal.Toolshed.activeTooltip&&(Drupal.Toolshed.activeTooltip=null))}}],[{key:"onToggle",value:function(t){var e=t.data;t.preventDefault(),t.stopImmediatePropagation(),e[e.element.is(":visible")?"close":"show"]()}},{key:"onClose",value:function(t){var e=t.data;e.close(),o("body").off("click",e.close)}}]),s}()}(jQuery);